<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Audrey Tan">
<meta name="dcterms.date" content="2025-05-03">

<title>Take-home_Exercise 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Take-home_Ex01_files/libs/clipboard/clipboard.min.js"></script>
<script src="Take-home_Ex01_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="Take-home_Ex01_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="Take-home_Ex01_files/libs/quarto-html/popper.min.js"></script>
<script src="Take-home_Ex01_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Take-home_Ex01_files/libs/quarto-html/anchor.min.js"></script>
<link href="Take-home_Ex01_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Take-home_Ex01_files/libs/quarto-html/quarto-syntax-highlighting-a37c72dd2dbac68997fcdc15a3622e78.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Take-home_Ex01_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Take-home_Ex01_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Take-home_Ex01_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="Take-home_Ex01_files/libs/quarto-diagram/mermaid.min.js"></script>
<script src="Take-home_Ex01_files/libs/quarto-diagram/mermaid-init.js"></script>
<link href="Take-home_Ex01_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">
<link href="Take-home_Ex01_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="Take-home_Ex01_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="Take-home_Ex01_files/libs/plotly-binding-4.10.4/plotly.js"></script>

<script src="Take-home_Ex01_files/libs/typedarray-0.1/typedarray.min.js"></script>

<script src="Take-home_Ex01_files/libs/jquery-3.5.1/jquery.min.js"></script>

<link href="Take-home_Ex01_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="Take-home_Ex01_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

<link href="Take-home_Ex01_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="Take-home_Ex01_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>



</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take-home_Exercise 1</h1>
<p class="subtitle lead">Demographic structures and distribution of Singapore in 2024</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Audrey Tan </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 3, 2025</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">May 2, 2025</p>
    </div>
  </div>
    
  </div>
  


</header>


<section id="overview" class="level1">
<h1>1. Overview</h1>
<section id="background-and-task" class="level2">
<h2 class="anchored" data-anchor-id="background-and-task">1.1 Background and Task</h2>
<p>Aero Media is a local online media company that publishes daily content on digital platforms is planning to release an article on&nbsp;<strong>demographic structures and distribution of Singapore in 2024</strong>. As a graphical editor of the media company (Aero Media), there is a need to prepare at most three data visualisation for the daily article. This article aims to explore the distribution and structure of the population age, gender, and regions. Please refer to Section 2 to 8 for the preparation and Section 9 and 10 for this Article.</p>
</section>
<section id="the-data" class="level2">
<h2 class="anchored" data-anchor-id="the-data">1.2 The Data</h2>
<p>To accomplish the task,&nbsp;<em>Singapore Residents by Planning Area / Subzone, Single Year of Age and Sex, June 2024</em>&nbsp;dataset shares by&nbsp;<a href="https://www.singstat.gov.sg/">Department of Statistics, Singapore (DOS)</a>&nbsp;is used.</p>
</section>
</section>
<section id="loading-libraries-and-packages" class="level1">
<h1>2. Loading Libraries and Packages</h1>
<p>The code chunk below uses p_load() of pacman package to check if packages are installed in the computer. If they are, then they will be launched into R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rmarkdown)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(ggrepel, patchwork, </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>               ggthemes, hrbrthemes,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>               tidyverse, readr, ggdist, </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>               ggridges, colorspace, knitr, </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>               forcats, reshape2, png, grid, scales,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>               dplyr, magrittr, RColorBrewer, magick) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<table class="caption-top table">
<colgroup>
<col style="width: 14%">
<col style="width: 85%">
</colgroup>
<thead>
<tr class="header">
<th>Library</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>tidyverse</td>
<td><ul>
<li><p>Include dpylr for data manipulation with “mutate”, “group_by”, “summarize”, etc.</p></li>
<li><p>Include ggplot2 for visualisation through histogram, boxplots, etc.</p></li>
<li><p>Include forcats for factoring and ordering of variables</p></li>
</ul></td>
</tr>
<tr class="even">
<td>ggdist</td>
<td>For visualizing distributions and uncertainty. It provides tools like stat_halfeye(), stat_pointinterval(), etc., for making raincloud plots</td>
</tr>
<tr class="odd">
<td>ggridges</td>
<td>For creating density plots for visualisation of continuous distribution</td>
</tr>
<tr class="even">
<td>ggrepel</td>
<td>For repelling overlapping text labels in plot</td>
</tr>
<tr class="odd">
<td>ggthemes &amp; hrbrthemes</td>
<td>For customisation of plot appearance</td>
</tr>
<tr class="even">
<td>patchwork</td>
<td>For combination and alignment of multiple plots for each visualisation</td>
</tr>
<tr class="odd">
<td>knitr</td>
<td>For elegant, flexible and fast report generation of underlying dataframes</td>
</tr>
<tr class="even">
<td>forcats</td>
<td>For working with categorical variables</td>
</tr>
<tr class="odd">
<td>reshape2</td>
<td>For restructuring data between “wide” and “long” formats.</td>
</tr>
<tr class="even">
<td>png</td>
<td>For reading and writing Portable Network Graphics (PNG) image files in R</td>
</tr>
<tr class="odd">
<td>grid</td>
<td>For powerful and flexible low-level graphics system in R</td>
</tr>
<tr class="even">
<td>dplyr</td>
<td>For data manipulation.</td>
</tr>
<tr class="odd">
<td>magrittr</td>
<td>For introducing the pipe operator <code>%&gt;%</code> into R.</td>
</tr>
<tr class="even">
<td>RColorBrewer</td>
<td>For creating colour palettes</td>
</tr>
<tr class="odd">
<td>magick</td>
<td>For image processing to read, edit, compose, and convert images easily.</td>
</tr>
<tr class="even">
<td>scales</td>
<td>For normalizing of a dataset using the mean value and standard deviation</td>
</tr>
</tbody>
</table>
</section>
<section id="importing-data" class="level1">
<h1>3. Importing Data</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>sg_demo_2024 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"respopagesex2024.csv"</span>,<span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-understanding" class="level1">
<h1>4. Data Understanding</h1>
<section id="viewing-data-rows-and-columns-using-glimpse" class="level2">
<h2 class="anchored" data-anchor-id="viewing-data-rows-and-columns-using-glimpse">4.1 Viewing Data Rows and Columns using glimpse</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(sg_demo_2024)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 60,424
Columns: 6
$ PA   &lt;chr&gt; "Ang Mo Kio", "Ang Mo Kio", "Ang Mo Kio", "Ang Mo Kio", "Ang Mo K…
$ SZ   &lt;chr&gt; "Ang Mo Kio Town Centre", "Ang Mo Kio Town Centre", "Ang Mo Kio T…
$ Age  &lt;chr&gt; "0", "0", "1", "1", "2", "2", "3", "3", "4", "4", "5", "5", "6", …
$ Sex  &lt;chr&gt; "Males", "Females", "Males", "Females", "Males", "Females", "Male…
$ Pop  &lt;dbl&gt; 10, 10, 10, 10, 10, 10, 10, 10, 30, 10, 20, 10, 20, 30, 30, 10, 3…
$ Time &lt;dbl&gt; 2024, 2024, 2024, 2024, 2024, 2024, 2024, 2024, 2024, 2024, 2024,…</code></pre>
</div>
</div>
<ul>
<li>The data contains data on Singapore Residents by Planning Area / Subzone, Single Year of Age and Sex, June 2024.</li>
<li>The dataframe has 6 columns and 60,424 rows. Four of the columns contains categorical data type and the other two are in double/real number data type.
<ul>
<li>The categorical attributes are: PA, SZ, Age and Sex</li>
<li>The numerical attributes are: Pop, and Time.</li>
</ul></li>
</ul>
</section>
<section id="data-dictionary-for-variables" class="level2">
<h2 class="anchored" data-anchor-id="data-dictionary-for-variables">4.2 Data Dictionary for Variables</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Category</th>
<th>Column Headers</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Planning Area</td>
<td>PA</td>
<td>CHAR</td>
<td>55 area names</td>
</tr>
<tr class="even">
<td>Subzone</td>
<td>SZ</td>
<td>CHAR</td>
<td>332 area names</td>
</tr>
<tr class="odd">
<td>Single Year of Age</td>
<td>Age</td>
<td>NUM</td>
<td>0 to 90_and_over (in increments of 1)</td>
</tr>
<tr class="even">
<td>Sex</td>
<td>Sex</td>
<td>CHAR</td>
<td>Males; Females</td>
</tr>
<tr class="odd">
<td>Resident Count</td>
<td>Pop</td>
<td>NUM</td>
<td>0 to 1180 (in multiples of 10, with occasional breaks)</td>
</tr>
<tr class="even">
<td>Time/Period</td>
<td>Time</td>
<td>NUM</td>
<td>2024</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note.
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>For June 2024, Planning Areas refer to areas demarcated in the Urban Redevelopment Authority’s Master Plan 2019.</li>
<li>Data from 2003 onwards exclude residents who have been away from Singapore for a continuous period of 12 months or longer as at the reference period.</li>
<li>The figures have been rounded to the nearest 10.</li>
<li>The data may not add up due to rounding.</li>
<li>Data was generated on 24/9/2024.</li>
</ol>
</div>
</div>
<section id="categorical-values" class="level3">
<h3 class="anchored" data-anchor-id="categorical-values">4.2.1 Categorical values</h3>
<p>These are the categorical values within PA and SZ.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">The Data</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Unique Categories in Dataset</caption>
<colgroup>
<col style="width: 0%">
<col style="width: 99%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PA</td>
<td style="text-align: left;">Ang Mo Kio, Bedok, Bishan, Boon Lay, Bukit Batok, Bukit Merah, Bukit Panjang, Bukit Timah, Central Water Catchment, Changi, Changi Bay, Choa Chu Kang, Clementi, Downtown Core, Geylang, Hougang, Jurong East, Jurong West, Kallang, Lim Chu Kang, Mandai, Marina East, Marina South, Marine Parade, Museum, Newton, North-Eastern Islands, Novena, Orchard, Outram, Pasir Ris, Paya Lebar, Pioneer, Punggol, Queenstown, River Valley, Rochor, Seletar, Sembawang, Sengkang, Serangoon, Simpang, Singapore River, Southern Islands, Straits View, Sungei Kadut, Tampines, Tanglin, Tengah, Toa Payoh, Tuas, Western Islands, Western Water Catchment, Woodlands, Yishun</td>
</tr>
<tr class="even">
<td style="text-align: left;">SZ</td>
<td style="text-align: left;">Ang Mo Kio Town Centre, Cheng San, Chong Boon, Kebun Bahru, Sembawang Hills, Shangri-La, Tagore, Townsville, Yio Chu Kang, Yio Chu Kang East, Yio Chu Kang North, Yio Chu Kang West, Bayshore, Bedok North, Bedok Reservoir, Bedok South, Frankel, Kaki Bukit, Kembangan, Siglap, Bishan East, Marymount, Upper Thomson, Liu Fang, Samulun, Shipyard, Tukang, Brickworks, Bukit Batok Central, Bukit Batok East, Bukit Batok South, Bukit Batok West, Gombak, Guilin, Hillview, Hong Kah North, Alexandra Hill, Alexandra North, Bukit Ho Swee, Bukit Merah, City Terminals, Depot Road, Everton Park, Henderson Hill, Kampong Tiong Bahru, Maritime Square, Redhill, Singapore General Hospital, Telok Blangah Drive, Telok Blangah Rise, Telok Blangah Way, Tiong Bahru, Tiong Bahru Station, Bangkit, Dairy Farm, Fajar, Jelebu, Nature Reserve, Saujana, Senja, Anak Bukit, Coronation Road, Farrer Court, Hillcrest, Holland Road, Leedon Park, Swiss Club, Ulu Pandan, Central Water Catchment, Changi Airport, Changi Point, Changi West, Changi Bay, Choa Chu Kang Central, Choa Chu Kang North, Keat Hong, Peng Siang, Teck Whye, Yew Tee, Clementi Central, Clementi North, Clementi West, Clementi Woods, Faber, Pandan, Sunset Way, Toh Tuck, West Coast, Anson, Bayfront Subzone, Bugis, Cecil, Central Subzone, City Hall, Clifford Pier, Marina Centre, Maxwell, Nicoll, Phillip, Raffles Place, Tanjong Pagar, Aljunied, Geylang East, Kallang Way, Kampong Ubi, Macpherson, Defu Industrial Park, Hougang Central, Hougang East, Hougang West, Kangkar, Kovan, Lorong Ah Soo, Lorong Halus, Tai Seng, Trafalgar, International Business Park, Jurong Gateway, Jurong Port, Jurong River, Lakeside (Business), Lakeside (Leisure), Penjuru Crescent, Teban Gardens, Toh Guan, Yuhua East, Yuhua West, Boon Lay Place, Chin Bee, Hong Kah, Jurong West Central, Kian Teck, Safti, Taman Jurong, Wenya, Yunnan, Bendemeer, Boon Keng, Crawford, Geylang Bahru, Kallang Bahru, Kampong Bugis, Kampong Java, Lavender, Tanjong Rhu, Lim Chu Kang, Mandai East, Mandai Estate, Mandai West, Marina East, Marina South, East Coast, Katong, Marina East (Mp), Marine Parade, Mountbatten, Bras Basah, Dhoby Ghaut, Fort Canning, Cairnhill, Goodwood Park, Istana Negara, Monk’s Hill, Newton Circus, Orange Grove, North-Eastern Islands, Balestier, Dunearn, Malcolm, Moulmein, Mount Pleasant, Boulevard, Somerset, Tanglin, China Square, Chinatown, Pearl’s Hill, People’s Park, Flora Drive, Loyang East, Loyang West, Pasir Ris Central, Pasir Ris Drive, Pasir Ris Park, Pasir Ris Wafer Fab Park, Pasir Ris West, Airport Road, Paya Lebar East, Paya Lebar North, Paya Lebar West, Plab, Benoi Sector, Gul Basin, Gul Circle, Joo Koon, Pioneer Sector, Coney Island, Matilda, Northshore, Punggol Canal, Punggol Field, Punggol Town Centre, Waterway East, Commonwealth, Dover, Ghim Moh, Holland Drive, Kent Ridge, Margaret Drive, Mei Chin, National University Of S’pore, One North, Pasir Panjang 1, Pasir Panjang 2, Port, Queensway, Singapore Polytechnic, Tanglin Halt, Institution Hill, Leonie Hill, One Tree Hill, Oxley, Paterson, Bencoolen, Farrer Park, Kampong Glam, Little India, Mackenzie, Mount Emily, Rochor Canal, Selegie, Sungei Road, Victoria, Pulau Punggol Barat, Pulau Punggol Timor, Seletar, Seletar Aerospace Park, Admiralty, Sembawang Central, Sembawang East, Sembawang North, Sembawang Springs, Sembawang Straits, Senoko North, Senoko South, The Wharves, Anchorvale, Compassvale, Fernvale, Lorong Halus North, Rivervale, Sengkang Town Centre, Sengkang West, Lorong Chuan, Seletar Hills, Serangoon Central, Serangoon Garden, Serangoon North, Serangoon North Ind Estate, Upper Paya Lebar, Pulau Seletar, Simpang North, Simpang South, Tanjong Irau, Boat Quay, Clarke Quay, Robertson Quay, Sentosa, Southern Group, Straits View, Gali Batu, Kranji, Pang Sua, Reservoir View, Turf Club, Simei, Tampines East, Tampines North, Tampines West, Xilin, Chatsworth, Nassim, Ridout, Tyersall, Brickland, Forest Hill, Garden, Park, Plantation, Tengah Industrial Estate, Bidadari, Boon Teck, Braddell, Joo Seng, Kim Keat, Lorong 8 Toa Payoh, Pei Chun, Potong Pasir, Sennett, Toa Payoh Central, Toa Payoh West, Woodleigh, Tengeh, Tuas Bay, Tuas North, Tuas Promenade, Tuas View, Tuas View Extension, Jurong Island And Bukom, Semakau, Sudong, Bahar, Cleantech, Murai, Greenwood Park, Midview, North Coast, Senoko West, Woodgrove, Woodlands East, Woodlands Regional Centre, Woodlands South, Woodlands West, Khatib, Lower Seletar, Nee Soon, Northland, Springleaf, Yishun Central, Yishun East, Yishun South, Yishun West</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Age</td>
<td style="text-align: left;">0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90_and_Over</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sex</td>
<td style="text-align: left;">Males, Females</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Understanding the unique data values in each column that is categorical.</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>get_unique_val <span class="ot">&lt;-</span> <span class="cf">function</span>(df){<span class="fu">lapply</span>(df, unique)}</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>sg_demo_2024_cat <span class="ot">&lt;-</span> sg_demo_2024[,<span class="fu">c</span>(<span class="st">"PA"</span>, <span class="st">"SZ"</span>, <span class="st">"Age"</span>, <span class="st">"Sex"</span>)]</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>unique_val <span class="ot">&lt;-</span> <span class="fu">get_unique_val</span>(sg_demo_2024_cat)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>uni_val_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Values =</span> <span class="fu">sapply</span>(unique_val, paste, <span class="at">collapse =</span> <span class="st">", "</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(uni_val_df, <span class="at">caption =</span> <span class="st">"Unique Categories in Dataset"</span>, <span class="at">row.names =</span> <span class="cn">NA</span>, <span class="at">label =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="statistics-of-numerical-variables" class="level3">
<h3 class="anchored" data-anchor-id="statistics-of-numerical-variables">4.2.2 Statistics of Numerical Variables</h3>
<p>Notice that: - Age is not a numerical value but a categorical value. - The Pop value is a summation for each combination of variables in a particular record. - In Time, there is only one year of data at 2024.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">The Data</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Pop</th>
<th style="text-align: left;">Time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Min. : 0.0</td>
<td style="text-align: left;">Min. :2024</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">1st Qu.: 0.0</td>
<td style="text-align: left;">1st Qu.:2024</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Median : 20.0</td>
<td style="text-align: left;">Median :2024</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Mean : 69.4</td>
<td style="text-align: left;">Mean :2024</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">3rd Qu.: 90.0</td>
<td style="text-align: left;">3rd Qu.:2024</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Max. :1180.0</td>
<td style="text-align: left;">Max. :2024</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Understanding the distribution of numerical values </span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>realis_num <span class="ot">&lt;-</span> sg_demo_2024[,<span class="fu">c</span>(<span class="st">"Pop"</span>, <span class="st">"Time"</span>)]</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">summary</span>(realis_num))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="flowchart-of-data-and-graphs" class="level2">
<h2 class="anchored" data-anchor-id="flowchart-of-data-and-graphs">4.3 Flowchart of data and graphs</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true" href="">The Flowchart</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
    id1[(sg_demo_2024)]--&gt;C((Pop))
    C((Pop))--&gt;G(Sub_Zone)
    G(Sub_Zone)--&gt; F(Planning_Area) 

    F --&gt;|Discretize| id2{{Region Type - CR, ER, NR, NER, WR}}
    id2 --&gt;|Filter| D(Sex)
    D(Sex)--&gt; |Filter| B(Age)

    D(Sex)--&gt; |Graph Type|L[[Pie Chart]]
    D(Sex)--&gt; |Graph Type|N[[Stacked Bar Chart]]

    B(Age) --&gt;|Discretize| id4{{Age_type - 0-4,5-9,...,90 &amp; Over}}
    B(Age) --&gt;|Change Type| H((Age_Numerical))
    B(Age) --&gt;|Discretize| id3{{summarised_ages - young, working-age, elderly}}

    id3--&gt; |Graph Type|M[[Bar Chart]]
    id4--&gt; |Graph Type|A[[❤ EDA 1: Population Pyramid]]
   
    H((Age_Numerical))--&gt;|Graph Type|J[[❤ EDA 2: Scatterplot]] 
    H((Age_Numerical))--&gt;|Graph Type|K[[❤ EDA 3: Raincloud Plot]] 
    H((Age_Numerical))--&gt;|Graph Type|O[[Histogram]] 
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell" data-layout-align="default">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>flowchart TD</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    id1[(sg_demo_2024)]--&gt;C((Pop))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    C((Pop))--&gt;G(Sub_Zone)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    G(Sub_Zone)--&gt; F(Planning_Area) </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    F --&gt;|Discretize| id2{{Region Type - CR, ER, NR, NER, WR}}</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    id2 --&gt;|Filter| D(Sex)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    D(Sex)--&gt; |Filter| B(Age)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    D(Sex)--&gt; |Graph Type|L[[Pie Chart]]</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    D(Sex)--&gt; |Graph Type|N[[Stacked Bar Chart]]</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    B(Age) --&gt;|Discretize| id4{{Age_type - 0-4,5-9,...,90 &amp; Over}}</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    B(Age) --&gt;|Change Type| H((Age_Numerical))</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    B(Age) --&gt;|Discretize| id3{{summarised_ages - young, working-age, elderly}}</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    id3--&gt; |Graph Type|M[[Bar Chart]]</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    id4--&gt; |Graph Type|A[[❤ EDA 1: Population Pyramid]]</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    H((Age_Numerical))--&gt;|Graph Type|J[[❤ EDA 2: Scatterplot]] </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    H((Age_Numerical))--&gt;|Graph Type|K[[❤ EDA 3: Raincloud Plot]] </span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    H((Age_Numerical))--&gt;|Graph Type|O[[Histogram]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
    id1[(sg_demo_2024)]--&gt;C((Pop))
    C((Pop))--&gt;G(Sub_Zone)
    G(Sub_Zone)--&gt; F(Planning_Area) 

    F --&gt;|Discretize| id2{{Region Type - CR, ER, NR, NER, WR}}
    id2 --&gt;|Filter| D(Sex)
    D(Sex)--&gt; |Filter| B(Age)

    D(Sex)--&gt; |Graph Type|L[[Pie Chart]]
    D(Sex)--&gt; |Graph Type|N[[Stacked Bar Chart]]
    
    B(Age) --&gt;|Discretize| id4{{Age_type - 0-4,5-9,...,90 &amp; Over}}
    B(Age) --&gt;|Change Type| H((Age_Numerical))
    B(Age) --&gt;|Discretize| id3{{summarised_ages - young, working-age, elderly}}

    id3--&gt; |Graph Type|M[[Bar Chart]]
    id4--&gt; |Graph Type|A[[❤ EDA 1: Population Pyramid]]
   
    H((Age_Numerical))--&gt;|Graph Type|J[[❤ EDA 2: Scatterplot]] 
    H((Age_Numerical))--&gt;|Graph Type|K[[❤ EDA 3: Raincloud Plot]] 
    H((Age_Numerical))--&gt;|Graph Type|O[[Histogram]] 
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="data-pre-processing" class="level1">
<h1>5 Data Pre-processing</h1>
<p>There are 4 major tasks in data pre-processing: Data cleaning, Data Integration, Data Reduction, and Data Transformation. Here we focus on data cleaning, transformation and reduction.</p>
<section id="data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-cleaning">5.1 Data Cleaning</h2>
<p>Verifying data quality through checking for missing values and duplicates.</p>
<section id="missing-values" class="level3">
<h3 class="anchored" data-anchor-id="missing-values">5.1.1 Missing Values</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true" href="">The Results</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 6
# ℹ 6 variables: PA &lt;chr&gt;, SZ &lt;chr&gt;, Age &lt;chr&gt;, Sex &lt;chr&gt;, Pop &lt;dbl&gt;,
#   Time &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>sg_demo_2024[<span class="fu">missing</span>(sg_demo_2024),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="duplicates" class="level3">
<h3 class="anchored" data-anchor-id="duplicates">5.1.2 Duplicates</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true" href="">The Results</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 6
# ℹ 6 variables: PA &lt;chr&gt;, SZ &lt;chr&gt;, Age &lt;chr&gt;, Sex &lt;chr&gt;, Pop &lt;dbl&gt;,
#   Time &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>sg_demo_2024[<span class="fu">duplicated</span>(sg_demo_2024),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>There were no missing values or duplicates.</p>
</section>
</section>
<section id="data-transformation-reduction" class="level2">
<h2 class="anchored" data-anchor-id="data-transformation-reduction">5.2 Data Transformation/ Reduction</h2>
<section id="data-label-encoding-changing-age-from-categorical-to-numerical-value" class="level3">
<h3 class="anchored" data-anchor-id="data-label-encoding-changing-age-from-categorical-to-numerical-value">5.2.1 Data Label Encoding: Changing age from categorical to numerical value</h3>
<p>Age as a continuous variable will be useful for plotting distributions.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>sg_demo_2024 <span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Age_numerical_temp =</span> <span class="fu">ifelse</span>(Age <span class="sc">==</span> <span class="st">"90_and_Over"</span>, <span class="st">"90"</span>, Age)) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Age_numerical =</span> <span class="fu">as.numeric</span>(Age_numerical_temp)) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Age_numerical_temp) <span class="co"># remove the temporary column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="discretization-creation-of-new-region_type" class="level3">
<h3 class="anchored" data-anchor-id="discretization-creation-of-new-region_type">5.2.2 Discretization: Creation of new Region_type</h3>
<p>The discretization method splits the continuous data into intervals which reduces the data size. There are 55 planning area (PA) and 332 subzone (SZ), referencing Urban Redevelopment Authority (URA), the PA or SZ can be grouped into 5 regions:</p>
<ul>
<li><p>Central Region (CR)</p></li>
<li><p>East Region (ER)</p></li>
<li><p>North Region (NR)</p></li>
<li><p>North East Region (NER)</p></li>
<li><p>West Region (WR)</p></li>
</ul>
<p>Hence, a new column of Region_type was created to reflect the 5 segmented regions using PA.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Encoding regions</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>sg_demo_2024 <span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Region_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">PA</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Bishan"</span>, <span class="st">"Bukit Merah"</span>, <span class="st">"Bukit Timah"</span>, <span class="st">"Downtown Core"</span>, <span class="st">"Geylang"</span>,</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Kallang"</span>,<span class="st">"Marina East"</span>,<span class="st">"Marina South"</span>, <span class="st">"Marine Parade"</span>, <span class="st">"Museum"</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Newton"</span>, <span class="st">"Novena"</span>, <span class="st">"Orchard"</span>,<span class="st">"Outram"</span>,<span class="st">"Queenstown"</span>,<span class="st">"River Valley"</span>,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Rochor"</span>,<span class="st">"Singapore River"</span>,<span class="st">"Southern Islands"</span>, <span class="st">"Straits View"</span>,</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Tanglin"</span>,<span class="st">"Toa Payoh"</span>) <span class="sc">~</span> <span class="st">"CR"</span>,</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">PA</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Bedok"</span>,<span class="st">"Changi"</span>,<span class="st">"Changi Bay"</span>,<span class="st">"Pasir Ris"</span>,<span class="st">"Paya Lebar"</span>,<span class="st">"Tampines"</span>) <span class="sc">~</span> <span class="st">"ER"</span>,</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">PA</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Central Water Catchment"</span>,<span class="st">"Lim Chu Kang"</span>,<span class="st">"Mandai"</span>,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Sembawang"</span>, <span class="st">"Simpang"</span>, <span class="st">"Sungei Kadut"</span>,<span class="st">"Woodlands"</span>,<span class="st">"Yishun"</span>) <span class="sc">~</span> <span class="st">"NR"</span>,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">PA</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Ang Mo Kio"</span>,<span class="st">"Hougang"</span>, <span class="st">"North-Eastern Islands"</span>, <span class="st">"Punggol"</span>, </span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Seletar"</span>, <span class="st">"Sengkang"</span>, <span class="st">"Serangoon"</span>) <span class="sc">~</span> <span class="st">"NER"</span>,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">PA</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Boon Lay"</span>, <span class="st">"Bukit Batok"</span>, <span class="st">"Bukit Panjang"</span>, <span class="st">"Choa Chu Kang"</span>,</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Clementi"</span>, <span class="st">"Jurong East"</span>, <span class="st">"Jurong West"</span>, <span class="st">"Pioneer"</span>, <span class="st">"Tengah"</span>,</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Tuas"</span>, <span class="st">"Western Islands"</span>,<span class="st">"Western Water Catchment"</span>) <span class="sc">~</span> <span class="st">"WR"</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>These are the summarised data.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true" href="">The Data</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 4%">
<col style="width: 95%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Region_type</th>
<th style="text-align: left;">Planning_Area</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CR</td>
<td style="text-align: left;">Bishan, Bukit Merah, Bukit Timah, Downtown Core, Geylang, Kallang, Marina East, Marina South, Marine Parade, Museum, Newton, Novena, Orchard, Outram, Queenstown, River Valley, Rochor, Singapore River, Southern Islands, Straits View, Tanglin, Toa Payoh</td>
</tr>
<tr class="even">
<td style="text-align: left;">ER</td>
<td style="text-align: left;">Bedok, Changi, Changi Bay, Pasir Ris, Paya Lebar, Tampines</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NER</td>
<td style="text-align: left;">Ang Mo Kio, Hougang, North-Eastern Islands, Punggol, Seletar, Sengkang, Serangoon</td>
</tr>
<tr class="even">
<td style="text-align: left;">NR</td>
<td style="text-align: left;">Central Water Catchment, Lim Chu Kang, Mandai, Sembawang, Simpang, Sungei Kadut, Woodlands, Yishun</td>
</tr>
<tr class="odd">
<td style="text-align: left;">WR</td>
<td style="text-align: left;">Boon Lay, Bukit Batok, Bukit Panjang, Choa Chu Kang, Clementi, Jurong East, Jurong West, Pioneer, Tengah, Tuas, Western Islands, Western Water Catchment</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>pa_mapping<span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Region_type</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Planning_Area =</span> <span class="fu">paste</span>(<span class="fu">unique</span>(<span class="st">`</span><span class="at">PA</span><span class="st">`</span>), <span class="at">collapse =</span> <span class="st">", "</span>))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(pa_mapping, <span class="at">title =</span> <span class="st">"Mapping of Planning Area to Region "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="discretization-creation-of-new-age_type" class="level3">
<h3 class="anchored" data-anchor-id="discretization-creation-of-new-age_type">5.2.3 Discretization: Creation of new Age_Type</h3>
<p>The ages were binned into age_type based on Singapore’s Department of Statistics classification.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Encoding ages</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>sg_demo_2024 <span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Age_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">~</span> <span class="st">"0-4"</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">9</span>) <span class="sc">~</span> <span class="st">"5-9"</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">10</span><span class="sc">:</span><span class="dv">14</span>) <span class="sc">~</span> <span class="st">"10-14"</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">15</span><span class="sc">:</span><span class="dv">19</span>) <span class="sc">~</span> <span class="st">"15-19"</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">20</span><span class="sc">:</span><span class="dv">24</span>) <span class="sc">~</span> <span class="st">"20-24"</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">25</span><span class="sc">:</span><span class="dv">29</span>) <span class="sc">~</span> <span class="st">"25-29"</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">30</span><span class="sc">:</span><span class="dv">34</span>) <span class="sc">~</span> <span class="st">"30-34"</span>,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">35</span><span class="sc">:</span><span class="dv">39</span>) <span class="sc">~</span> <span class="st">"35-39"</span>,</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">40</span><span class="sc">:</span><span class="dv">44</span>) <span class="sc">~</span> <span class="st">"40-44"</span>,</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">45</span><span class="sc">:</span><span class="dv">49</span>) <span class="sc">~</span> <span class="st">"45-49"</span>,</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">50</span><span class="sc">:</span><span class="dv">54</span>) <span class="sc">~</span> <span class="st">"50-54"</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">55</span><span class="sc">:</span><span class="dv">59</span>) <span class="sc">~</span> <span class="st">"55-59"</span>,</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">60</span><span class="sc">:</span><span class="dv">64</span>) <span class="sc">~</span> <span class="st">"60-64"</span>,</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">65</span><span class="sc">:</span><span class="dv">69</span>) <span class="sc">~</span> <span class="st">"65-69"</span>,</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">70</span><span class="sc">:</span><span class="dv">74</span>) <span class="sc">~</span> <span class="st">"70-74"</span>,</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">75</span><span class="sc">:</span><span class="dv">79</span>) <span class="sc">~</span> <span class="st">"75-79"</span>,</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">80</span><span class="sc">:</span><span class="dv">84</span>) <span class="sc">~</span> <span class="st">"80-84"</span>,</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">85</span><span class="sc">:</span><span class="dv">89</span>) <span class="sc">~</span> <span class="st">"85-89"</span>,</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">==</span> <span class="st">"90_and_Over"</span> <span class="sc">~</span> <span class="st">"90 &amp; Over"</span>,</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="discretization-creation-of-new-summarised_ages" class="level3">
<h3 class="anchored" data-anchor-id="discretization-creation-of-new-summarised_ages">5.2.4 Discretization: Creation of new summarised_ages</h3>
<p>Based on Singapore Department of Statistics’s classification, elderly are persons aged 65 and older. Based on the Ministry of Manpower the working-age population comprises of persons aged 15 and over. Thus, the remaining younger population are classified as young here.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Encoding summarised_ages</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>sg_demo_2024 <span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">summarised_ages =</span> <span class="fu">case_when</span>(</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">14</span>) <span class="sc">~</span> <span class="st">"young"</span>,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">15</span><span class="sc">:</span><span class="dv">64</span>) <span class="sc">~</span> <span class="st">"working-age"</span>,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">%in%</span> <span class="fu">as.character</span>(<span class="dv">65</span><span class="sc">:</span><span class="dv">89</span>) <span class="sc">~</span> <span class="st">"eldery"</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">==</span> <span class="st">"90_and_Over"</span> <span class="sc">~</span> <span class="st">"eldery"</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="discretization-creation-of-new-pop_by_gender_age-dataframe-and-new-total_pop-variable" class="level3">
<h3 class="anchored" data-anchor-id="discretization-creation-of-new-pop_by_gender_age-dataframe-and-new-total_pop-variable">5.2.5 Discretization: Creation of new pop_by_gender_age dataframe and new total_pop variable</h3>
<p>There is no need to keep Time, PA, SZ, and Age variables. This helps in data or dimension reduction and reduces computation power.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using groupby() and summarise </span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>pop_by_gender_age<span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Sex, Age_numerical, Age_type, Region_type)<span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_pop =</span> <span class="fu">sum</span>(Pop), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="preview-of-reduced-dataframe" class="level2">
<h2 class="anchored" data-anchor-id="preview-of-reduced-dataframe">5.3 Preview of reduced dataframe</h2>
<p>Dataframes <em>pop_by_gender_age</em> and the original <em>sg_demo_2024</em> were used to plot graphs in Section 7 and 8.</p>
<section id="composition-of-pop_by_gender_age-dataframe" class="level3">
<h3 class="anchored" data-anchor-id="composition-of-pop_by_gender_age-dataframe">5.3.1 Composition of <em>pop_by_gender_age</em> dataframe</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(pop_by_gender_age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 910
Columns: 5
$ Sex           &lt;chr&gt; "Females", "Females", "Females", "Females", "Females", "…
$ Age_numerical &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3,…
$ Age_type      &lt;chr&gt; "0-4", "0-4", "0-4", "0-4", "0-4", "0-4", "0-4", "0-4", …
$ Region_type   &lt;chr&gt; "CR", "ER", "NER", "NR", "WR", "CR", "ER", "NER", "NR", …
$ total_pop     &lt;dbl&gt; 3040, 2400, 3520, 2260, 3150, 3430, 2650, 3780, 2350, 33…</code></pre>
</div>
</div>
<ul>
<li>The dataframe has 5 columns and 910 rows. Three of the columns contains categorical data type and the other two are in double/real number data type.</li>
<li>The categorical attributes are: Region_type, Age_type, and Sex</li>
<li>The numerical attributes are: Age_numerical, and total_pop.</li>
</ul>
</section>
<section id="understanding-the-distribution-of-numerical-values" class="level3">
<h3 class="anchored" data-anchor-id="understanding-the-distribution-of-numerical-values">5.3.2 Understanding the distribution of numerical values</h3>
<p>Note that the median age here is computed by it’s Age_numerical column and not of the entire population.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-12-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-1" role="tab" aria-controls="tabset-12-1" aria-selected="true" href="">The Data</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-2" role="tab" aria-controls="tabset-12-2" aria-selected="false" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-12-1-tab">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Age_numerical</th>
<th style="text-align: left;">total_pop</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Min. : 0</td>
<td style="text-align: left;">Min. : 220</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">1st Qu.:22</td>
<td style="text-align: left;">1st Qu.:3340</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Median :45</td>
<td style="text-align: left;">Median :4625</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Mean :45</td>
<td style="text-align: left;">Mean :4608</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">3rd Qu.:68</td>
<td style="text-align: left;">3rd Qu.:6190</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Max. :90</td>
<td style="text-align: left;">Max. :9100</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-12-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-2-tab">
<div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>realis_num2 <span class="ot">&lt;-</span> pop_by_gender_age[,<span class="fu">c</span>(<span class="st">"Age_numerical"</span>, <span class="st">"total_pop"</span>)]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">summary</span>(realis_num2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="univariate-bivariate-analysis" class="level1">
<h1>7. Univariate/ Bivariate Analysis</h1>
<p>Here, we produce some univariate and bivariate analysis to obtain a general understanding of the data and also compare between and choose visualisations.</p>
<section id="bar-chart-of-region-by-different-population-age-groups" class="level2">
<h2 class="anchored" data-anchor-id="bar-chart-of-region-by-different-population-age-groups">7.1 Bar Chart of Region by Different Population Age Groups</h2>
<p>The bar chart hows the percentage and absolute figures of the different age group of residents by region</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-13-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-1" role="tab" aria-controls="tabset-13-1" aria-selected="true" href="">The Code for Bar Chart on Percentage Figures</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-2" role="tab" aria-controls="tabset-13-2" aria-selected="false" href="">The Code for Bar Chart on Absolute Figures</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-3" role="tab" aria-controls="tabset-13-3" aria-selected="false" href="">The Combined Bar Charts</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-13-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using groupby() and summarise </span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>pop_by_region<span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(summarised_ages, Region_type) <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">pop_region =</span> <span class="fu">sum</span>(Pop), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate percentages by summarised_ages</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>pop_by_region_percent <span class="ot">&lt;-</span> pop_by_region <span class="sc">%&gt;%</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(summarised_ages) <span class="sc">%&gt;%</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percent =</span> pop_region <span class="sc">/</span> <span class="fu">sum</span>(pop_region)) <span class="sc">%&gt;%</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(pop_by_region_percent,</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Region_type, <span class="sc">-</span>pop_region), <span class="at">y =</span> percent,</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> summarised_ages, <span class="co"># Keep fill for visual distinction</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>                 <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Age Group:"</span>, summarised_ages, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Region:"</span>, Region_type, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Percent:"</span>, scales<span class="sc">::</span><span class="fu">percent</span>(percent, <span class="at">accuracy =</span> <span class="fl">0.1</span>), <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Population:"</span>, scales<span class="sc">::</span><span class="fu">comma</span>(pop_region)))) <span class="sc">+</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">12</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.spacing.x =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>),</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span> </span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Region"</span>,</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percent per age-group"</span>,</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">title  =</span> <span class="st">"Population by Age-groups and Regions (Percentage)"</span>) <span class="sc">+</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(summarised_ages), <span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">scales =</span> <span class="st">"free_x"</span>) <span class="sc">+</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set3"</span>) <span class="co"># Use a color palette for regions</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an interactive plotly object with hover</span></span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p1, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style</span>(<span class="at">hoverlabel =</span> <span class="fu">list</span>(<span class="at">bgcolor =</span> <span class="st">"blue"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-13-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>pop_by_region <span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(summarised_ages, Region_type) <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">pop_region =</span> <span class="fu">sum</span>(Pop), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the absolute population figures</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(pop_by_region,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Region_type, <span class="sc">-</span>pop_region), <span class="at">y =</span> pop_region,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> summarised_ages, <span class="co"># Fill by region for distinction</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Age Group:"</span>, summarised_ages, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Region:"</span>, Region_type, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Population:"</span>, scales<span class="sc">::</span><span class="fu">comma</span>(pop_region)))) <span class="sc">+</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">12</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.spacing.x =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>),</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Region"</span>,</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Population"</span>,</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">title  =</span> <span class="st">"Population by Age-groups and Regions (Absolute Figures)"</span>,</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Region"</span>) <span class="sc">+</span> <span class="co"># Update legend title</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma) <span class="sc">+</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(summarised_ages), <span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">scales =</span> <span class="st">"free_x"</span>) <span class="sc">+</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set3"</span>) <span class="co"># Use a color palette for regions</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an interactive plotly object with hover</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p2, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style</span>(<span class="at">hoverlabel =</span> <span class="fu">list</span>(<span class="at">bgcolor =</span> <span class="st">"blue"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-13-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>p1<span class="sc">/</span>p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<ul>
<li><p>There are less residents in the Eastern and Northern regions, relative to other other regions.</p></li>
<li><p>Most of the population are in the working-age group due to the larger age range (15-64).</p></li>
<li><p>Among the elderly population, there are significantly more elderly in the central region, compared to other regions. There are less elderly in the northern region, relative to other regions.</p></li>
<li><p>Among the younger population, there is a younger population in the north eastern region relative to other regions.</p></li>
<li><p>The population in the working age group are close to evenly distributed in the 3 regions of North-Eastern, Central and Western Regions of Singapore.</p></li>
</ul>
</section>
<section id="pie-chart-of-gender-by-population" class="level2">
<h2 class="anchored" data-anchor-id="pie-chart-of-gender-by-population">7.2 Pie Chart of Gender by Population</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-14-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-1" role="tab" aria-controls="tabset-14-1" aria-selected="true" href="">The Pie Chart</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-14-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-2" role="tab" aria-controls="tabset-14-2" aria-selected="false" href="">The Code for Pie Charts</a></li></ul>
<div class="tab-content">
<div id="tabset-14-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-14-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-14-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-14-2-tab">
<div class="sourceCode" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using groupby() and summarise </span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>pop_by_sex<span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Sex, Region_type) <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">pop_sex =</span> <span class="fu">sum</span>(Pop), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the position of labels</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> pop_by_sex <span class="sc">%&gt;%</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region_type) <span class="sc">%&gt;%</span> <span class="co"># Group by Region_type first</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Sex)) <span class="sc">%&gt;%</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> pop_sex <span class="sc">/</span> <span class="fu">sum</span>(pop_sex) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> <span class="co"># percentage within each region</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ypos =</span> <span class="fu">cumsum</span>(prop) <span class="sc">-</span> <span class="fl">0.5</span> <span class="sc">*</span> prop) <span class="co">#y-positions for labels within each region</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic piechart</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> prop, <span class="at">fill =</span> Sex</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>                       )) <span class="sc">+</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">"y"</span>, <span class="at">start =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>,</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span> </span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Population Distribution by Gender for different Regions"</span>) <span class="sc">+</span> <span class="co"># Added title</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">format</span>(pop_sex, <span class="at">big.mark =</span> <span class="st">","</span>)),</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), <span class="co"># Position the labels.</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>, <span class="at">name =</span> <span class="st">"Gender"</span>)</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>p3 <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Region_type), <span class="at">nrow=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<ul>
<li><p>There is a rather even distribution of gender in each region.</p></li>
<li><p>ER and NR have lesser population compared to the other regions, as confirmed in section 7.1.</p></li>
</ul>
</section>
<section id="stacked-bar-chart-of-region-by-population-with-gender-as-hue" class="level2">
<h2 class="anchored" data-anchor-id="stacked-bar-chart-of-region-by-population-with-gender-as-hue">7.3 Stacked Bar chart of Region by Population (with gender as hue)</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-15-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-1" role="tab" aria-controls="tabset-15-1" aria-selected="true" href="">The Stacked Bar Chart</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-15-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-2" role="tab" aria-controls="tabset-15-2" aria-selected="false" href="">The Code for Stacked bar chart</a></li></ul>
<div class="tab-content">
<div id="tabset-15-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-15-1-tab">
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-4c6ba0cbe051e88f0103" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-4c6ba0cbe051e88f0103">{"x":{"data":[{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.89999999999999991,0.90000000000000036,0.90000000000000036],"base":[0.11054886932965784,0.082374515026719733,0.11269026333423154,0.070708925416057597,0.11049402293533134],"x":[2,4,1,5,3],"y":[0.12065968289245575,0.08691484262661768,0.11934575405446007,0.072185008811192483,0.11407811557327596],"text":["Population: 505990 <br />Percent (%): 12.07 <br />Gender: Females","Population: 364480 <br />Percent (%): 8.69 <br />Gender: Females","Population: 500480 <br />Percent (%): 11.93 <br />Gender: Females","Population: 302710 <br />Percent (%): 7.22 <br />Gender: Females","Population: 478390 <br />Percent (%): 11.41 <br />Gender: Females"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"name":"Females","legendgroup":"Females","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"bgcolor":"blue"}},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.89999999999999991,0.90000000000000036,0.90000000000000036],"base":[0,0,0,0,0],"x":[2,4,1,5,3],"y":[0.11054886932965784,0.082374515026719733,0.11269026333423154,0.070708925416057597,0.11049402293533134],"text":["Population: 463590 <br />Percent (%): 11.05 <br />Gender: Males","Population: 345440 <br />Percent (%): 8.24 <br />Gender: Males","Population: 472570 <br />Percent (%): 11.27 <br />Gender: Males","Population: 296520 <br />Percent (%): 7.07 <br />Gender: Males","Population: 463360 <br />Percent (%): 11.05 <br />Gender: Males"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"name":"Males","legendgroup":"Males","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"bgcolor":"blue"}}],"layout":{"margin":{"t":47.481942714819425,"r":7.3059360730593621,"b":40.182648401826491,"l":43.105022831050235},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"<b> Population of Residents by Region <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":21.253632212536321},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,5.5999999999999996],"tickmode":"array","ticktext":["NER","CR","WR","ER","NR"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["NER","CR","WR","ER","NR"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Region","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.011601800869434582,0.24363781825812619],"tickmode":"array","ticktext":["0%","5%","10%","15%","20%"],"tickvals":[0,0.050000000000000003,0.10000000000000001,0.14999999999999999,0.20000000000000001],"categoryorder":"array","categoryarray":["0%","5%","10%","15%","20%"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Percent","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Sex","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"e782264392c":{"x":{},"y":{},"fill":{},"text":{},"type":"bar"}},"cur_data":"e782264392c","visdat":{"e782264392c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-15-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-15-2-tab">
<div class="sourceCode" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using groupby() and summarise </span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>pop_by_region<span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region_type,Sex) <span class="sc">%&gt;%</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">pop_region =</span> <span class="fu">sum</span>(Pop), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the distribution as percentages</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>p4<span class="ot">&lt;-</span><span class="fu">ggplot</span>(pop_by_region, </span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Region_type, <span class="sc">-</span>pop_region), <span class="at">y =</span> pop_region<span class="sc">/</span><span class="fu">sum</span>(pop_region),</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill=</span>Sex,</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Population:"</span>, pop_region,</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"</span><span class="sc">\n</span><span class="st">Percent (%):"</span>, <span class="fu">round</span>(<span class="dv">100</span> <span class="sc">*</span>pop_region <span class="sc">/</span> <span class="fu">sum</span>(pop_region), <span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"</span><span class="sc">\n</span><span class="st">Gender:"</span>, Sex)))<span class="sc">+</span> </span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span>    </span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span> </span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Region"</span>, </span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percent"</span>, </span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">title  =</span> <span class="st">"Population of Residents by Region"</span>) <span class="sc">+</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent)</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p4, <span class="at">tooltip =</span> <span class="st">"text"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style</span>(</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">hoverlabel =</span> <span class="fu">list</span>(<span class="at">bgcolor =</span> <span class="st">"blue"</span>)</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<ul>
<li>The stacked bar chart with hover tooltip easily summarises the multiple piecharts of distribution of genders in regions in section 7.2.</li>
</ul>
</section>
<section id="scatterplot-of-age-by-gender" class="level2">
<h2 class="anchored" data-anchor-id="scatterplot-of-age-by-gender">7.4 Scatterplot of Age by Gender</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-16-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-1" role="tab" aria-controls="tabset-16-1" aria-selected="true" href="">The Scatterplot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-16-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-2" role="tab" aria-controls="tabset-16-2" aria-selected="false" href="">The Code for Scatterplot</a></li></ul>
<div class="tab-content">
<div id="tabset-16-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-16-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-16-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-16-2-tab">
<div class="sourceCode" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using groupby() and summarise </span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>pop_by_age<span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Age_numerical, Sex) <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">pop_age =</span> <span class="fu">sum</span>(Pop), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define custom colors</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>male_color <span class="ot">&lt;-</span> <span class="st">"#1B9E77"</span>  <span class="co"># Replace with your desired color for Male (e.g., hex code)</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>female_color <span class="ot">&lt;-</span> <span class="st">"#D95F02"</span> <span class="co"># Replace with your desired color for Female (e.g., hex code)</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatterplot with linear fit line</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pop_by_age, <span class="fu">aes</span>(<span class="at">x =</span> Age_numerical, <span class="at">y =</span> pop_age)) <span class="sc">+</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> <span class="fu">subset</span>(pop_by_age, Sex <span class="sc">==</span> <span class="st">"Males"</span>),</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Age_numerical, <span class="at">y =</span> pop_age, <span class="at">color =</span> <span class="st">"Males"</span>)) <span class="sc">+</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> <span class="fu">subset</span>(pop_by_age, Sex <span class="sc">==</span> <span class="st">"Females"</span>),</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Age_numerical, <span class="at">y =</span> pop_age, <span class="at">color =</span> <span class="st">"Females"</span>)) <span class="sc">+</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Males"</span> <span class="ot">=</span> male_color, <span class="st">"Females"</span> <span class="ot">=</span> female_color),</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>                     <span class="at">name =</span> <span class="st">"Gender"</span>) <span class="sc">+</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Scatterplot of Age by Population"</span>,</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age"</span>,</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Population"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<ul>
<li><p>The population rises from age 0 to 35, stagnates around age 35 to 60, then dips after that. There is an overall decline in the population as the age increases which is a reality in life.</p></li>
<li><p>Around the ages of 0 to 30, the population of female vs males are close.</p></li>
<li><p>A large group of the population are around the ages of 30 to 60. Suggesting an ageing population.</p></li>
<li><p>After age 75, there is usually a larger gap between the higher females compared to males population. This is stark for over 90 years of age. Suggesting higher longevity for females.</p></li>
</ul>
</section>
<section id="histogram-of-age-by-population-with-gender-as-hue" class="level2">
<h2 class="anchored" data-anchor-id="histogram-of-age-by-population-with-gender-as-hue">7.5 Histogram of Age by Population (with gender as hue)</h2>
<p>In addition to geom_histogram(), we can also create a histogram plot by using scale_x_continuous() with geom_bar(). This method plots breaks in between each bar. A bivariate chart can be produced when the bars are filled by gender like a stacked bar chart.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-17-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-17-1" role="tab" aria-controls="tabset-17-1" aria-selected="true" href="">The Interactive Histogram</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-17-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-17-2" role="tab" aria-controls="tabset-17-2" aria-selected="false" href="">The Code for the Interactive Histogram</a></li></ul>
<div class="tab-content">
<div id="tabset-17-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-17-1-tab">
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-945f85034ba761c74d6b" style="width:100%;height:454px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-945f85034ba761c74d6b">{"x":{"data":[{"orientation":"v","width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"base":[15090,16700,17980,18200,19880,19680,20090,20600,21550,21700,20800,21950,21150,20030,20860,21520,22110,21570,21340,21130,21070,21870,22350,24910,24660,24140,26000,27230,28380,29500,30450,30920,30510,32530,31220,33780,31040,27130,28220,29170,28170,29830,30070,29470,29090,28910,28010,29680,28580,28960,30080,31660,30340,29490,27690,27390,28790,28670,30330,29900,30590,29880,29170,29190,28770,28240,27080,26490,25100,23640,23080,21200,19410,18150,17700,16690,14990,14240,9310,6850,8110,6550,5900,6440,5840,5070,3860,2930,2590,2540,7760],"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],"y":[14370,15580,17190,17340,19070,19090,19090,19690,20440,20790,19940,20570,20350,19260,20370,20760,21680,20580,20580,20560,20310,21350,21380,23900,23630,23090,25780,27130,28910,30080,31790,32270,33120,34670,33770,36960,34340,30680,31320,32850,31830,33710,33380,33090,32110,32330,30870,32440,31080,31050,32430,33190,32080,31430,29560,29510,29780,29620,30830,30230,31070,30340,29660,29440,29260,28740,28100,27620,26450,25240,24080,22470,21440,19800,19800,18820,17620,17140,11250,8500,10290,8480,8530,9280,8710,7920,5960,4470,4330,4530,17530],"text":["Age: 0 <br> Gender: Females <br> Population: 14,370","Age: 1 <br> Gender: Females <br> Population: 15,580","Age: 2 <br> Gender: Females <br> Population: 17,190","Age: 3 <br> Gender: Females <br> Population: 17,340","Age: 4 <br> Gender: Females <br> Population: 19,070","Age: 5 <br> Gender: Females <br> Population: 19,090","Age: 6 <br> Gender: Females <br> Population: 19,090","Age: 7 <br> Gender: Females <br> Population: 19,690","Age: 8 <br> Gender: Females <br> Population: 20,440","Age: 9 <br> Gender: Females <br> Population: 20,790","Age: 10 <br> Gender: Females <br> Population: 19,940","Age: 11 <br> Gender: Females <br> Population: 20,570","Age: 12 <br> Gender: Females <br> Population: 20,350","Age: 13 <br> Gender: Females <br> Population: 19,260","Age: 14 <br> Gender: Females <br> Population: 20,370","Age: 15 <br> Gender: Females <br> Population: 20,760","Age: 16 <br> Gender: Females <br> Population: 21,680","Age: 17 <br> Gender: Females <br> Population: 20,580","Age: 18 <br> Gender: Females <br> Population: 20,580","Age: 19 <br> Gender: Females <br> Population: 20,560","Age: 20 <br> Gender: Females <br> Population: 20,310","Age: 21 <br> Gender: Females <br> Population: 21,350","Age: 22 <br> Gender: Females <br> Population: 21,380","Age: 23 <br> Gender: Females <br> Population: 23,900","Age: 24 <br> Gender: Females <br> Population: 23,630","Age: 25 <br> Gender: Females <br> Population: 23,090","Age: 26 <br> Gender: Females <br> Population: 25,780","Age: 27 <br> Gender: Females <br> Population: 27,130","Age: 28 <br> Gender: Females <br> Population: 28,910","Age: 29 <br> Gender: Females <br> Population: 30,080","Age: 30 <br> Gender: Females <br> Population: 31,790","Age: 31 <br> Gender: Females <br> Population: 32,270","Age: 32 <br> Gender: Females <br> Population: 33,120","Age: 33 <br> Gender: Females <br> Population: 34,670","Age: 34 <br> Gender: Females <br> Population: 33,770","Age: 35 <br> Gender: Females <br> Population: 36,960","Age: 36 <br> Gender: Females <br> Population: 34,340","Age: 37 <br> Gender: Females <br> Population: 30,680","Age: 38 <br> Gender: Females <br> Population: 31,320","Age: 39 <br> Gender: Females <br> Population: 32,850","Age: 40 <br> Gender: Females <br> Population: 31,830","Age: 41 <br> Gender: Females <br> Population: 33,710","Age: 42 <br> Gender: Females <br> Population: 33,380","Age: 43 <br> Gender: Females <br> Population: 33,090","Age: 44 <br> Gender: Females <br> Population: 32,110","Age: 45 <br> Gender: Females <br> Population: 32,330","Age: 46 <br> Gender: Females <br> Population: 30,870","Age: 47 <br> Gender: Females <br> Population: 32,440","Age: 48 <br> Gender: Females <br> Population: 31,080","Age: 49 <br> Gender: Females <br> Population: 31,050","Age: 50 <br> Gender: Females <br> Population: 32,430","Age: 51 <br> Gender: Females <br> Population: 33,190","Age: 52 <br> Gender: Females <br> Population: 32,080","Age: 53 <br> Gender: Females <br> Population: 31,430","Age: 54 <br> Gender: Females <br> Population: 29,560","Age: 55 <br> Gender: Females <br> Population: 29,510","Age: 56 <br> Gender: Females <br> Population: 29,780","Age: 57 <br> Gender: Females <br> Population: 29,620","Age: 58 <br> Gender: Females <br> Population: 30,830","Age: 59 <br> Gender: Females <br> Population: 30,230","Age: 60 <br> Gender: Females <br> Population: 31,070","Age: 61 <br> Gender: Females <br> Population: 30,340","Age: 62 <br> Gender: Females <br> Population: 29,660","Age: 63 <br> Gender: Females <br> Population: 29,440","Age: 64 <br> Gender: Females <br> Population: 29,260","Age: 65 <br> Gender: Females <br> Population: 28,740","Age: 66 <br> Gender: Females <br> Population: 28,100","Age: 67 <br> Gender: Females <br> Population: 27,620","Age: 68 <br> Gender: Females <br> Population: 26,450","Age: 69 <br> Gender: Females <br> Population: 25,240","Age: 70 <br> Gender: Females <br> Population: 24,080","Age: 71 <br> Gender: Females <br> Population: 22,470","Age: 72 <br> Gender: Females <br> Population: 21,440","Age: 73 <br> Gender: Females <br> Population: 19,800","Age: 74 <br> Gender: Females <br> Population: 19,800","Age: 75 <br> Gender: Females <br> Population: 18,820","Age: 76 <br> Gender: Females <br> Population: 17,620","Age: 77 <br> Gender: Females <br> Population: 17,140","Age: 78 <br> Gender: Females <br> Population: 11,250","Age: 79 <br> Gender: Females <br> Population: 8,500","Age: 80 <br> Gender: Females <br> Population: 10,290","Age: 81 <br> Gender: Females <br> Population: 8,480","Age: 82 <br> Gender: Females <br> Population: 8,530","Age: 83 <br> Gender: Females <br> Population: 9,280","Age: 84 <br> Gender: Females <br> Population: 8,710","Age: 85 <br> Gender: Females <br> Population: 7,920","Age: 86 <br> Gender: Females <br> Population: 5,960","Age: 87 <br> Gender: Females <br> Population: 4,470","Age: 88 <br> Gender: Females <br> Population: 4,330","Age: 89 <br> Gender: Females <br> Population: 4,530","Age: 90 <br> Gender: Females <br> Population: 17,530"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(102,194,165,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"name":"Females","legendgroup":"Females","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],"y":[15090,16700,17980,18200,19880,19680,20090,20600,21550,21700,20800,21950,21150,20030,20860,21520,22110,21570,21340,21130,21070,21870,22350,24910,24660,24140,26000,27230,28380,29500,30450,30920,30510,32530,31220,33780,31040,27130,28220,29170,28170,29830,30070,29470,29090,28910,28010,29680,28580,28960,30080,31660,30340,29490,27690,27390,28790,28670,30330,29900,30590,29880,29170,29190,28770,28240,27080,26490,25100,23640,23080,21200,19410,18150,17700,16690,14990,14240,9310,6850,8110,6550,5900,6440,5840,5070,3860,2930,2590,2540,7760],"text":["Age: 0 <br> Gender: Males <br> Population: 15,090","Age: 1 <br> Gender: Males <br> Population: 16,700","Age: 2 <br> Gender: Males <br> Population: 17,980","Age: 3 <br> Gender: Males <br> Population: 18,200","Age: 4 <br> Gender: Males <br> Population: 19,880","Age: 5 <br> Gender: Males <br> Population: 19,680","Age: 6 <br> Gender: Males <br> Population: 20,090","Age: 7 <br> Gender: Males <br> Population: 20,600","Age: 8 <br> Gender: Males <br> Population: 21,550","Age: 9 <br> Gender: Males <br> Population: 21,700","Age: 10 <br> Gender: Males <br> Population: 20,800","Age: 11 <br> Gender: Males <br> Population: 21,950","Age: 12 <br> Gender: Males <br> Population: 21,150","Age: 13 <br> Gender: Males <br> Population: 20,030","Age: 14 <br> Gender: Males <br> Population: 20,860","Age: 15 <br> Gender: Males <br> Population: 21,520","Age: 16 <br> Gender: Males <br> Population: 22,110","Age: 17 <br> Gender: Males <br> Population: 21,570","Age: 18 <br> Gender: Males <br> Population: 21,340","Age: 19 <br> Gender: Males <br> Population: 21,130","Age: 20 <br> Gender: Males <br> Population: 21,070","Age: 21 <br> Gender: Males <br> Population: 21,870","Age: 22 <br> Gender: Males <br> Population: 22,350","Age: 23 <br> Gender: Males <br> Population: 24,910","Age: 24 <br> Gender: Males <br> Population: 24,660","Age: 25 <br> Gender: Males <br> Population: 24,140","Age: 26 <br> Gender: Males <br> Population: 26,000","Age: 27 <br> Gender: Males <br> Population: 27,230","Age: 28 <br> Gender: Males <br> Population: 28,380","Age: 29 <br> Gender: Males <br> Population: 29,500","Age: 30 <br> Gender: Males <br> Population: 30,450","Age: 31 <br> Gender: Males <br> Population: 30,920","Age: 32 <br> Gender: Males <br> Population: 30,510","Age: 33 <br> Gender: Males <br> Population: 32,530","Age: 34 <br> Gender: Males <br> Population: 31,220","Age: 35 <br> Gender: Males <br> Population: 33,780","Age: 36 <br> Gender: Males <br> Population: 31,040","Age: 37 <br> Gender: Males <br> Population: 27,130","Age: 38 <br> Gender: Males <br> Population: 28,220","Age: 39 <br> Gender: Males <br> Population: 29,170","Age: 40 <br> Gender: Males <br> Population: 28,170","Age: 41 <br> Gender: Males <br> Population: 29,830","Age: 42 <br> Gender: Males <br> Population: 30,070","Age: 43 <br> Gender: Males <br> Population: 29,470","Age: 44 <br> Gender: Males <br> Population: 29,090","Age: 45 <br> Gender: Males <br> Population: 28,910","Age: 46 <br> Gender: Males <br> Population: 28,010","Age: 47 <br> Gender: Males <br> Population: 29,680","Age: 48 <br> Gender: Males <br> Population: 28,580","Age: 49 <br> Gender: Males <br> Population: 28,960","Age: 50 <br> Gender: Males <br> Population: 30,080","Age: 51 <br> Gender: Males <br> Population: 31,660","Age: 52 <br> Gender: Males <br> Population: 30,340","Age: 53 <br> Gender: Males <br> Population: 29,490","Age: 54 <br> Gender: Males <br> Population: 27,690","Age: 55 <br> Gender: Males <br> Population: 27,390","Age: 56 <br> Gender: Males <br> Population: 28,790","Age: 57 <br> Gender: Males <br> Population: 28,670","Age: 58 <br> Gender: Males <br> Population: 30,330","Age: 59 <br> Gender: Males <br> Population: 29,900","Age: 60 <br> Gender: Males <br> Population: 30,590","Age: 61 <br> Gender: Males <br> Population: 29,880","Age: 62 <br> Gender: Males <br> Population: 29,170","Age: 63 <br> Gender: Males <br> Population: 29,190","Age: 64 <br> Gender: Males <br> Population: 28,770","Age: 65 <br> Gender: Males <br> Population: 28,240","Age: 66 <br> Gender: Males <br> Population: 27,080","Age: 67 <br> Gender: Males <br> Population: 26,490","Age: 68 <br> Gender: Males <br> Population: 25,100","Age: 69 <br> Gender: Males <br> Population: 23,640","Age: 70 <br> Gender: Males <br> Population: 23,080","Age: 71 <br> Gender: Males <br> Population: 21,200","Age: 72 <br> Gender: Males <br> Population: 19,410","Age: 73 <br> Gender: Males <br> Population: 18,150","Age: 74 <br> Gender: Males <br> Population: 17,700","Age: 75 <br> Gender: Males <br> Population: 16,690","Age: 76 <br> Gender: Males <br> Population: 14,990","Age: 77 <br> Gender: Males <br> Population: 14,240","Age: 78 <br> Gender: Males <br> Population: 9,310","Age: 79 <br> Gender: Males <br> Population: 6,850","Age: 80 <br> Gender: Males <br> Population: 8,110","Age: 81 <br> Gender: Males <br> Population: 6,550","Age: 82 <br> Gender: Males <br> Population: 5,900","Age: 83 <br> Gender: Males <br> Population: 6,440","Age: 84 <br> Gender: Males <br> Population: 5,840","Age: 85 <br> Gender: Males <br> Population: 5,070","Age: 86 <br> Gender: Males <br> Population: 3,860","Age: 87 <br> Gender: Males <br> Population: 2,930","Age: 88 <br> Gender: Males <br> Population: 2,590","Age: 89 <br> Gender: Males <br> Population: 2,540","Age: 90 <br> Gender: Males <br> Population: 7,760"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(252,141,98,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"name":"Males","legendgroup":"Males","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":38.39221965249363,"r":7.3059360730593621,"b":34.015299768724432,"l":60.639269406392714},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"<b> Resident Population by Age and Gender <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":11.955168119551683},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5.0499999999999998,95.049999999999997],"tickmode":"array","ticktext":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],"tickvals":[0,1,2,3.0000000000000009,4.0000000000000009,5.0000000000000009,6.0000000000000009,7.0000000000000009,8.0000000000000036,9,10,11,12,13,14,15,16,17,18,19,20,21,22,22.999999999999996,23.999999999999996,25.000000000000004,26.000000000000004,26.999999999999996,27.999999999999996,28.999999999999996,29.999999999999996,30.999999999999996,31.999999999999996,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,51.999999999999993,52.999999999999993,53.999999999999993,55.000000000000007,56.000000000000007,57.000000000000007,58.000000000000007,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],"categoryorder":"array","categoryarray":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":5.3134080531340802},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Age (Numerical)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3537,74277],"tickmode":"array","ticktext":["0","20,000","40,000","60,000"],"tickvals":[0,20000.000000000004,40000,60000.000000000007],"categoryorder":"array","categoryarray":["0","20,000","40,000","60,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Total Population","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Gender","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","width":1000,"height":700,"barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"e782e132b19":{"x":{},"y":{},"fill":{},"text":{},"type":"bar"}},"cur_data":"e782e132b19","visdat":{"e782e132b19":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-17-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-17-2-tab">
<div class="sourceCode" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using groupby() and summarise </span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>pop_by_age<span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Age_numerical, Sex) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">pop_age =</span> <span class="fu">sum</span>(Pop), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>sorted_ages <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">unique</span>(pop_by_age<span class="sc">$</span>Age_numerical))</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the age distribution using a histogram</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>p5<span class="ot">&lt;-</span><span class="fu">ggplot</span>(pop_by_age, <span class="fu">aes</span>(<span class="at">x =</span> Age_numerical, <span class="at">y =</span> pop_age, <span class="at">fill =</span> Sex, </span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>                           <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Age:"</span>, Age_numerical, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Gender:"</span>, Sex, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Population:"</span>, scales<span class="sc">::</span><span class="fu">comma</span>(pop_age)))) <span class="sc">+</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> sorted_ages,</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> sorted_ages) <span class="sc">+</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Resident Population by Age and Gender"</span>,</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age (Numerical)"</span>,</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Population"</span>) <span class="sc">+</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma) <span class="sc">+</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>, <span class="at">name =</span> <span class="st">"Gender"</span>) <span class="sc">+</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size=</span><span class="dv">4</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">9</span>, <span class="at">face =</span> <span class="st">"bold"</span>))</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p5, <span class="at">width =</span> <span class="dv">1000</span>, <span class="at">height =</span> <span class="dv">700</span>, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="co"># Specify tooltip</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<ul>
<li><p>The histogram corroborates what was produced by the scatterplot in section 7.4.</p></li>
<li><p>Through the histogram is usually used to visualise distributions, the scatterplot appears to visualise and produce the insights much easier than the histogram in this case.</p></li>
</ul>
</section>
</section>
<section id="exploratory-data-analysis-eda" class="level1">
<h1>8. Exploratory Data Analysis (EDA)</h1>
<p>Here, the graphical editor visualises, finds insights, plans, and rationalises the appropriate chart for the article in Section 9.</p>
<section id="eda-1-population-pyramid-age-and-gender-structure" class="level2">
<h2 class="anchored" data-anchor-id="eda-1-population-pyramid-age-and-gender-structure">8.1 EDA 1: Population Pyramid (Age and Gender Structure)</h2>
<p>Instead of the histogram produced in the earlier univariate/ bivariate analysis, a population pyramid can be produced for clearer visualisation.</p>
<section id="step-1-preparatory-work" class="level4">
<h4 class="anchored" data-anchor-id="step-1-preparatory-work">Step 1: Preparatory work</h4>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-18-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-18-1" role="tab" aria-controls="tabset-18-1" aria-selected="true" href="">The Code to create pyramid</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-18-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-18-2" role="tab" aria-controls="tabset-18-2" aria-selected="false" href="">The Code to calculate Total Population and Median Age</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-18-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-18-3" role="tab" aria-controls="tabset-18-3" aria-selected="false" href="">The Code to create Age labels and its plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-18-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-18-4" role="tab" aria-controls="tabset-18-4" aria-selected="false" href="">The Code to create of new column Age_Type_Ordered</a></li></ul>
<div class="tab-content">
<div id="tabset-18-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-18-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>pop_by_gender_age <span class="ot">&lt;-</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  pop_by_gender_age <span class="sc">|&gt;</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_pop =</span> <span class="fu">if_else</span>(Sex <span class="sc">==</span> <span class="st">"Males"</span>, total_pop, <span class="sc">-</span>total_pop))</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co">#pop_by_gender_age |&gt;</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">#  ggplot(aes(</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    x = total_pop,</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">#    y = Age_type,</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co">#    fill = Sex</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">#  )) +</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co">#  geom_col()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-18-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-18-2-tab">
<p>The median age of the population is around 42 years.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure total_pop is positive for this calculation</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>pop_for_median <span class="ot">&lt;-</span> pop_by_gender_age <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">abs_total_pop =</span> <span class="fu">abs</span>(total_pop))</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the cumulative population</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>pop_cumulative <span class="ot">&lt;-</span> pop_for_median <span class="sc">%&gt;%</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Age_numerical) <span class="sc">%&gt;%</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cumulative_pop =</span> <span class="fu">cumsum</span>(abs_total_pop))</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the total population</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>total_population <span class="ot">&lt;-</span> <span class="fu">sum</span>(pop_cumulative<span class="sc">$</span>abs_total_pop)</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Total Population:"</span>, total_population))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Total Population: 4193530"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the median population (half of the total)</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>median_population_point <span class="ot">&lt;-</span> total_population <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the age at which the cumulative population crosses the median point</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>median_age_population <span class="ot">&lt;-</span> pop_cumulative <span class="sc">%&gt;%</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cumulative_pop <span class="sc">&gt;=</span> median_population_point) <span class="sc">%&gt;%</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Age_numerical)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Median Age of the Population:"</span>, median_age_population))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Median Age of the Population: 42"</code></pre>
</div>
</div>
</div>
<div id="tabset-18-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-18-3-tab">
<p>Age labels were created for ordered age.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creation of age labels</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>age_labels <span class="ot">&lt;-</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Age_type =</span> <span class="fu">c</span>(</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">"0-4"</span>,</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">"5-9"</span>,</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">"10-14"</span>,</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">"15-19"</span>,</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">"20-24"</span>,</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">"25-29"</span>,</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"30-34"</span>,</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">"35-39"</span>,</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"40-44"</span>,</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"45-49"</span>,</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">"50-54"</span>,</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">"55-59"</span>,</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">"60-64"</span>,</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>      <span class="st">"65-69"</span>,</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>      <span class="st">"70-74"</span>,</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>      <span class="st">"75-79"</span>,</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>      <span class="st">"80-84"</span>,</span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>      <span class="st">"85-89"</span>,</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>      <span class="st">"90 &amp; Over"</span></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">Age_type =</span> <span class="fu">fct_inorder</span>(Age_type)</span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a><span class="co"># age_labels plot only</span></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>age_labels <span class="sc">|&gt;</span></span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="dv">1</span>,</span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Age_type,</span>
<span id="cb34-36"><a href="#cb34-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> Age_type</span>
<span id="cb34-37"><a href="#cb34-37" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb34-38"><a href="#cb34-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb34-39"><a href="#cb34-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>() <span class="sc">+</span></span>
<span id="cb34-40"><a href="#cb34-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()<span class="sc">+</span></span>
<span id="cb34-41"><a href="#cb34-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Age Group</span><span class="sc">\n</span><span class="st">(Years)"</span>)<span class="sc">+</span></span>
<span id="cb34-42"><a href="#cb34-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">vjust =</span> <span class="dv">2</span>, <span class="at">size=</span><span class="dv">10</span>,</span>
<span id="cb34-43"><a href="#cb34-43" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"black"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-18-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-18-4-tab">
<p>To ensure that the Age_type column in pop_by_gender_age is a factor with the levels taken directly from age_labels$Age_type, new column Age_Type_Ordered is created.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ordered factor</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>pop_by_gender_age <span class="ot">&lt;-</span> pop_by_gender_age <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Age_Type_Ordered =</span> <span class="fu">factor</span>(Age_type, <span class="at">levels =</span> age_labels<span class="sc">$</span>Age_type))</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">levels</span>(pop_by_gender_age<span class="sc">$</span>Age_Type_Ordered))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "0-4"       "5-9"       "10-14"     "15-19"     "20-24"     "25-29"    
 [7] "30-34"     "35-39"     "40-44"     "45-49"     "50-54"     "55-59"    
[13] "60-64"     "65-69"     "70-74"     "75-79"     "80-84"     "85-89"    
[19] "90 &amp; Over"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Double checking factor for Age_type matches for pop_by_gender_age and age_labels</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>unique_pop_age <span class="ot">&lt;-</span> <span class="fu">unique</span>(pop_by_gender_age<span class="sc">$</span>Age_type)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Unique values in pop_by_gender_age$Age_type:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Unique values in pop_by_gender_age$Age_type:"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(unique_pop_age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "0-4"       "5-9"       "10-14"     "15-19"     "20-24"     "25-29"    
 [7] "30-34"     "35-39"     "40-44"     "45-49"     "50-54"     "55-59"    
[13] "60-64"     "65-69"     "70-74"     "75-79"     "80-84"     "85-89"    
[19] "90 &amp; Over"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>unique_labels_age <span class="ot">&lt;-</span> <span class="fu">unique</span>(age_labels<span class="sc">$</span>Age_type)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Unique values in age_labels$Age_type:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Unique values in age_labels$Age_type:"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(unique_labels_age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0-4       5-9       10-14     15-19     20-24     25-29     30-34    
 [8] 35-39     40-44     45-49     50-54     55-59     60-64     65-69    
[15] 70-74     75-79     80-84     85-89     90 &amp; Over
19 Levels: 0-4 5-9 10-14 15-19 20-24 25-29 30-34 35-39 40-44 45-49 ... 90 &amp; Over</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="step-2-creation-of-empty-male-and-female-plots" class="level4">
<h4 class="anchored" data-anchor-id="step-2-creation-of-empty-male-and-female-plots">Step 2: Creation of Empty Male and Female plots</h4>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-19-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-19-1" role="tab" aria-controls="tabset-19-1" aria-selected="true" href="">Creation of women pyramid</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-19-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-19-2" role="tab" aria-controls="tabset-19-2" aria-selected="false" href="">Creation of men pyramid</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-19-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-19-3" role="tab" aria-controls="tabset-19-3" aria-selected="false" href="">Plot: Combining both genders</a></li></ul>
<div class="tab-content">
<div id="tabset-19-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-19-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>population_pyramid_women <span class="ot">&lt;-</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  pop_by_gender_age <span class="sc">|&gt;</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex <span class="sc">==</span> <span class="st">"Females"</span>) <span class="sc">|&gt;</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> total_pop,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> Age_Type_Ordered </span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-19-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-19-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>population_pyramid_men <span class="ot">&lt;-</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  pop_by_gender_age <span class="sc">|&gt;</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex <span class="sc">==</span> <span class="st">"Males"</span>) <span class="sc">|&gt;</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> total_pop,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> Age_Type_Ordered </span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-19-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-19-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>population_pyramid_women <span class="sc">+</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  population_pyramid_men</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="step-3-plotting-of-male-female-age-label-plots" class="level4">
<h4 class="anchored" data-anchor-id="step-3-plotting-of-male-female-age-label-plots">Step 3: Plotting of Male + Female + Age Label plots</h4>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-20-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-20-1" role="tab" aria-controls="tabset-20-1" aria-selected="true" href="">Plotting Females and Males</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-20-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-20-2" role="tab" aria-controls="tabset-20-2" aria-selected="false" href="">Combining age_labels_plot with both gender plots</a></li></ul>
<div class="tab-content">
<div id="tabset-20-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-20-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># one women plot</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>population_pyramid_women <span class="ot">&lt;-</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  pop_by_gender_age <span class="sc">|&gt;</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex <span class="sc">==</span> <span class="st">"Females"</span>) <span class="sc">|&gt;</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> total_pop,</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> Age_Type_Ordered  </span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#A9C27F"</span>) <span class="sc">+</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">geom =</span> <span class="st">"label"</span>,</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="sc">-</span><span class="dv">120000</span>,</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="dv">19</span>,</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> <span class="st">"Females"</span>,</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill =</span> <span class="st">"#A9C27F"</span>,</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="st">"black"</span>,</span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">label.size =</span> <span class="dv">0</span>,</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">label.padding =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">"lines"</span>)</span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">breaks_pretty</span>(),</span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="cf">function</span>(x) scales<span class="sc">::</span><span class="fu">comma</span>(<span class="fu">abs</span>(x)))<span class="sc">+</span></span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()<span class="sc">+</span></span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(),</span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"grey90"</span>)</span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-27"><a href="#cb48-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-28"><a href="#cb48-28" aria-hidden="true" tabindex="-1"></a><span class="co"># one men plot</span></span>
<span id="cb48-29"><a href="#cb48-29" aria-hidden="true" tabindex="-1"></a>population_pyramid_men <span class="ot">&lt;-</span></span>
<span id="cb48-30"><a href="#cb48-30" aria-hidden="true" tabindex="-1"></a>  pop_by_gender_age <span class="sc">|&gt;</span></span>
<span id="cb48-31"><a href="#cb48-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex <span class="sc">==</span> <span class="st">"Males"</span>) <span class="sc">|&gt;</span></span>
<span id="cb48-32"><a href="#cb48-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb48-33"><a href="#cb48-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> total_pop,</span>
<span id="cb48-34"><a href="#cb48-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> Age_Type_Ordered </span>
<span id="cb48-35"><a href="#cb48-35" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb48-36"><a href="#cb48-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#004f39"</span>) <span class="sc">+</span></span>
<span id="cb48-37"><a href="#cb48-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb48-38"><a href="#cb48-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">geom =</span> <span class="st">"label"</span>,</span>
<span id="cb48-39"><a href="#cb48-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">120000</span>,</span>
<span id="cb48-40"><a href="#cb48-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="dv">19</span>,</span>
<span id="cb48-41"><a href="#cb48-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> <span class="st">"Males"</span>,</span>
<span id="cb48-42"><a href="#cb48-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill =</span> <span class="st">"#004f39"</span>,</span>
<span id="cb48-43"><a href="#cb48-43" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb48-44"><a href="#cb48-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">label.size =</span> <span class="dv">0</span>,</span>
<span id="cb48-45"><a href="#cb48-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">label.padding =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">"lines"</span>)</span>
<span id="cb48-46"><a href="#cb48-46" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb48-47"><a href="#cb48-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">breaks_pretty</span>(), </span>
<span id="cb48-48"><a href="#cb48-48" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels=</span><span class="cf">function</span>(x) scales<span class="sc">::</span><span class="fu">comma</span>(<span class="fu">abs</span>(x)))<span class="sc">+</span></span>
<span id="cb48-49"><a href="#cb48-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()<span class="sc">+</span></span>
<span id="cb48-50"><a href="#cb48-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb48-51"><a href="#cb48-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(),</span>
<span id="cb48-52"><a href="#cb48-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"grey90"</span>)</span>
<span id="cb48-53"><a href="#cb48-53" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-54"><a href="#cb48-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-55"><a href="#cb48-55" aria-hidden="true" tabindex="-1"></a><span class="co"># combine</span></span>
<span id="cb48-56"><a href="#cb48-56" aria-hidden="true" tabindex="-1"></a>population_pyramid_women <span class="sc">+</span></span>
<span id="cb48-57"><a href="#cb48-57" aria-hidden="true" tabindex="-1"></a>  population_pyramid_men</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-20-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-20-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>age_labels_plot <span class="ot">&lt;-</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  age_labels <span class="sc">|&gt;</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="dv">1</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Age_type,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> Age_type</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>() <span class="sc">+</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()<span class="sc">+</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Age Group</span><span class="sc">\n</span><span class="st">(Years)"</span>)<span class="sc">+</span></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">vjust =</span> <span class="dv">2</span>, <span class="at">size=</span><span class="dv">10</span>,</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"black"</span>))</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>population_pyramid_women <span class="sc">+</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>  age_labels_plot <span class="sc">+</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>  population_pyramid_men</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="final-step-view-the-population-pyramid-plot" class="level4">
<h4 class="anchored" data-anchor-id="final-step-view-the-population-pyramid-plot">Final Step: View the Population Pyramid Plot</h4>
<p>After layout adjustments, the population pyramid was plotted.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-21-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-21-1" role="tab" aria-controls="tabset-21-1" aria-selected="true" href="">Population Pyramid</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-21-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-21-2" role="tab" aria-controls="tabset-21-2" aria-selected="false" href="">Code for adjustments</a></li></ul>
<div class="tab-content">
<div id="tabset-21-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-21-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-21-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-21-2-tab">
<div class="sourceCode" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>population_pyramid_women <span class="sc">+</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  age_labels_plot <span class="sc">+</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  population_pyramid_men <span class="sc">+</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">widths =</span> <span class="fu">c</span>(<span class="fl">4.3</span>, <span class="dv">1</span>, <span class="fl">4.3</span>))<span class="sc">+</span> <span class="co"># both sides are 4.3 times the age_label_plot</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Age Pyramid of Singapore Resident Population for 2024"</span>, </span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle=</span><span class="st">"(median age=42)"</span>,</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: Department of Statistics, Singapore | Designer: AT"</span>,</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">theme =</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#d2dbe6"</span>, <span class="at">color =</span> <span class="cn">NA</span>))</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>The population pyramid visualises the population’s age and gender distribution. The population size is shown on the x-axis while the age-groups are represented on the middle y-axis. The population numbers are depicted within each age-group bar by gender on the left (Females) and right (Males). The bottom bar represents the youngest age group (0-4) and is incremental in age-group towards the top (90 &amp; Over).</p>
<p>It is possible to visualise the regions within each age group as what <a href="https://www.iz.sk/en/projects/eu-regions/AT"><strong>Michal Palenik</strong></a> produced for three employment statuses. However, this method faces the issue of complexity and difficulty reading in our case due to having 5 regions, with the regions close in region size per age-group.</p>
<p>See an example below which shows the complexity.</p>
</section>
<section id="comparative-distribution-and-structure-of-age-gender-and-population" class="level3">
<h3 class="anchored" data-anchor-id="comparative-distribution-and-structure-of-age-gender-and-population">Comparative Distribution and Structure of Age, Gender, and Population</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-22-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-22-1" role="tab" aria-controls="tabset-22-1" aria-selected="true" href="">Population Pyramid with Region</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-22-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-22-2" role="tab" aria-controls="tabset-22-2" aria-selected="false" href="">Code for Population Pyramid with Region</a></li></ul>
<div class="tab-content">
<div id="tabset-22-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-22-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-22-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-22-2-tab">
<div class="sourceCode" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Order the data by Region_type within each Age and Gender group. </span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>sg_demo_2024_reshaped <span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Sex, Age_type, Region_type)</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ordered factor</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>sg_demo_2024_reshaped <span class="ot">&lt;-</span> sg_demo_2024_reshaped <span class="sc">%&gt;%</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Age_Type_Ordered2 =</span> <span class="fu">factor</span>(Age_type, <span class="at">levels =</span> age_labels<span class="sc">$</span>Age_type))</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a basic bar chart for one gender</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>basic_plot <span class="ot">&lt;-</span>  <span class="fu">ggplot</span>(sg_demo_2024_reshaped, </span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">aes</span>(<span class="at">x =</span> Age_Type_Ordered2, </span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>                          <span class="at">y=</span> <span class="fu">ifelse</span>(Sex<span class="sc">==</span><span class="st">'Males'</span>, <span class="sc">-</span>Pop, Pop), </span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>                          <span class="at">fill =</span> Region_type)) <span class="sc">+</span> </span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) </span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Create population pyramids for both genders and combine them</span></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>population_pyramid <span class="ot">&lt;-</span> basic_plot <span class="sc">+</span></span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>) <span class="sc">+</span></span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Age_type"</span>,</span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Pop"</span>,  </span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Region_type"</span>,  </span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Population Pyramid"</span>)  <span class="sc">+</span></span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">breaks_pretty</span>(),</span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a>                       <span class="at">labels =</span> <span class="cf">function</span>(y) <span class="fu">format</span>(y, <span class="at">scientific =</span> <span class="cn">FALSE</span>))<span class="sc">+</span></span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span> <span class="co"># Males and Females separation</span></span>
<span id="cb51-29"><a href="#cb51-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"label"</span>,<span class="at">x =</span> <span class="dv">18</span>, <span class="at">y =</span> <span class="dv">100000</span>,</span>
<span id="cb51-30"><a href="#cb51-30" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Females"</span>, <span class="at">fill =</span> <span class="st">"pink"</span>,</span>
<span id="cb51-31"><a href="#cb51-31" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>,<span class="at">label.size =</span> <span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb51-32"><a href="#cb51-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"label"</span>,<span class="at">x =</span> <span class="dv">18</span>, <span class="at">y =</span> <span class="sc">-</span><span class="dv">100000</span>,</span>
<span id="cb51-33"><a href="#cb51-33" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Males"</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>,</span>
<span id="cb51-34"><a href="#cb51-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>,<span class="at">label.size =</span> <span class="dv">0</span>)</span>
<span id="cb51-35"><a href="#cb51-35" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(population_pyramid) <span class="co">#  Display the plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="eda-2-histogram-distribution-of-population-by-age-stacked-by-gender-for-different-regions" class="level2">
<h2 class="anchored" data-anchor-id="eda-2-histogram-distribution-of-population-by-age-stacked-by-gender-for-different-regions">8.2 EDA 2: Histogram (Distribution of population by age stacked by gender, for different regions)</h2>
<section id="the-histogram" class="level3">
<h3 class="anchored" data-anchor-id="the-histogram">The Histogram</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-23-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-23-1" role="tab" aria-controls="tabset-23-1" aria-selected="true" href="">The Interactive Histogram</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-23-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-23-2" role="tab" aria-controls="tabset-23-2" aria-selected="false" href="">The Code for Interactive Histogram</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-23-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-23-3" role="tab" aria-controls="tabset-23-3" aria-selected="false" href="">Non Interactive Histogram</a></li></ul>
<div class="tab-content">
<div id="tabset-23-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-23-1-tab">
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-d7d61d462f90ba8d11c8" style="width:100%;height:454px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-d7d61d462f90ba8d11c8">{"x":{"data":[{"orientation":"v","width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"base":[15090,16700,17980,18200,19880,19680,20090,20600,21550,21700,20800,21950,21150,20030,20860,21520,22110,21570,21340,21130,21070,21870,22350,24910,24660,24140,26000,27230,28380,29500,30450,30920,30510,32530,31220,33780,31040,27130,28220,29170,28170,29830,30070,29470,29090,28910,28010,29680,28580,28960,30080,31660,30340,29490,27690,27390,28790,28670,30330,29900,30590,29880,29170,29190,28770,28240,27080,26490,25100,23640,23080,21200,19410,18150,17700,16690,14990,14240,9310,6850,8110,6550,5900,6440,5840,5070,3860,2930,2590,2540,7760],"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],"y":[14370,15580,17190,17340,19070,19090,19090,19690,20440,20790,19940,20570,20350,19260,20370,20760,21680,20580,20580,20560,20310,21350,21380,23900,23630,23090,25780,27130,28910,30080,31790,32270,33120,34670,33770,36960,34340,30680,31320,32850,31830,33710,33380,33090,32110,32330,30870,32440,31080,31050,32430,33190,32080,31430,29560,29510,29780,29620,30830,30230,31070,30340,29660,29440,29260,28740,28100,27620,26450,25240,24080,22470,21440,19800,19800,18820,17620,17140,11250,8500,10290,8480,8530,9280,8710,7920,5960,4470,4330,4530,17530],"text":["Age: 0 <br> Gender: Females <br> Population: 14,370","Age: 1 <br> Gender: Females <br> Population: 15,580","Age: 2 <br> Gender: Females <br> Population: 17,190","Age: 3 <br> Gender: Females <br> Population: 17,340","Age: 4 <br> Gender: Females <br> Population: 19,070","Age: 5 <br> Gender: Females <br> Population: 19,090","Age: 6 <br> Gender: Females <br> Population: 19,090","Age: 7 <br> Gender: Females <br> Population: 19,690","Age: 8 <br> Gender: Females <br> Population: 20,440","Age: 9 <br> Gender: Females <br> Population: 20,790","Age: 10 <br> Gender: Females <br> Population: 19,940","Age: 11 <br> Gender: Females <br> Population: 20,570","Age: 12 <br> Gender: Females <br> Population: 20,350","Age: 13 <br> Gender: Females <br> Population: 19,260","Age: 14 <br> Gender: Females <br> Population: 20,370","Age: 15 <br> Gender: Females <br> Population: 20,760","Age: 16 <br> Gender: Females <br> Population: 21,680","Age: 17 <br> Gender: Females <br> Population: 20,580","Age: 18 <br> Gender: Females <br> Population: 20,580","Age: 19 <br> Gender: Females <br> Population: 20,560","Age: 20 <br> Gender: Females <br> Population: 20,310","Age: 21 <br> Gender: Females <br> Population: 21,350","Age: 22 <br> Gender: Females <br> Population: 21,380","Age: 23 <br> Gender: Females <br> Population: 23,900","Age: 24 <br> Gender: Females <br> Population: 23,630","Age: 25 <br> Gender: Females <br> Population: 23,090","Age: 26 <br> Gender: Females <br> Population: 25,780","Age: 27 <br> Gender: Females <br> Population: 27,130","Age: 28 <br> Gender: Females <br> Population: 28,910","Age: 29 <br> Gender: Females <br> Population: 30,080","Age: 30 <br> Gender: Females <br> Population: 31,790","Age: 31 <br> Gender: Females <br> Population: 32,270","Age: 32 <br> Gender: Females <br> Population: 33,120","Age: 33 <br> Gender: Females <br> Population: 34,670","Age: 34 <br> Gender: Females <br> Population: 33,770","Age: 35 <br> Gender: Females <br> Population: 36,960","Age: 36 <br> Gender: Females <br> Population: 34,340","Age: 37 <br> Gender: Females <br> Population: 30,680","Age: 38 <br> Gender: Females <br> Population: 31,320","Age: 39 <br> Gender: Females <br> Population: 32,850","Age: 40 <br> Gender: Females <br> Population: 31,830","Age: 41 <br> Gender: Females <br> Population: 33,710","Age: 42 <br> Gender: Females <br> Population: 33,380","Age: 43 <br> Gender: Females <br> Population: 33,090","Age: 44 <br> Gender: Females <br> Population: 32,110","Age: 45 <br> Gender: Females <br> Population: 32,330","Age: 46 <br> Gender: Females <br> Population: 30,870","Age: 47 <br> Gender: Females <br> Population: 32,440","Age: 48 <br> Gender: Females <br> Population: 31,080","Age: 49 <br> Gender: Females <br> Population: 31,050","Age: 50 <br> Gender: Females <br> Population: 32,430","Age: 51 <br> Gender: Females <br> Population: 33,190","Age: 52 <br> Gender: Females <br> Population: 32,080","Age: 53 <br> Gender: Females <br> Population: 31,430","Age: 54 <br> Gender: Females <br> Population: 29,560","Age: 55 <br> Gender: Females <br> Population: 29,510","Age: 56 <br> Gender: Females <br> Population: 29,780","Age: 57 <br> Gender: Females <br> Population: 29,620","Age: 58 <br> Gender: Females <br> Population: 30,830","Age: 59 <br> Gender: Females <br> Population: 30,230","Age: 60 <br> Gender: Females <br> Population: 31,070","Age: 61 <br> Gender: Females <br> Population: 30,340","Age: 62 <br> Gender: Females <br> Population: 29,660","Age: 63 <br> Gender: Females <br> Population: 29,440","Age: 64 <br> Gender: Females <br> Population: 29,260","Age: 65 <br> Gender: Females <br> Population: 28,740","Age: 66 <br> Gender: Females <br> Population: 28,100","Age: 67 <br> Gender: Females <br> Population: 27,620","Age: 68 <br> Gender: Females <br> Population: 26,450","Age: 69 <br> Gender: Females <br> Population: 25,240","Age: 70 <br> Gender: Females <br> Population: 24,080","Age: 71 <br> Gender: Females <br> Population: 22,470","Age: 72 <br> Gender: Females <br> Population: 21,440","Age: 73 <br> Gender: Females <br> Population: 19,800","Age: 74 <br> Gender: Females <br> Population: 19,800","Age: 75 <br> Gender: Females <br> Population: 18,820","Age: 76 <br> Gender: Females <br> Population: 17,620","Age: 77 <br> Gender: Females <br> Population: 17,140","Age: 78 <br> Gender: Females <br> Population: 11,250","Age: 79 <br> Gender: Females <br> Population: 8,500","Age: 80 <br> Gender: Females <br> Population: 10,290","Age: 81 <br> Gender: Females <br> Population: 8,480","Age: 82 <br> Gender: Females <br> Population: 8,530","Age: 83 <br> Gender: Females <br> Population: 9,280","Age: 84 <br> Gender: Females <br> Population: 8,710","Age: 85 <br> Gender: Females <br> Population: 7,920","Age: 86 <br> Gender: Females <br> Population: 5,960","Age: 87 <br> Gender: Females <br> Population: 4,470","Age: 88 <br> Gender: Females <br> Population: 4,330","Age: 89 <br> Gender: Females <br> Population: 4,530","Age: 90 <br> Gender: Females <br> Population: 17,530"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(102,194,165,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"name":"Females","legendgroup":"Females","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],"y":[15090,16700,17980,18200,19880,19680,20090,20600,21550,21700,20800,21950,21150,20030,20860,21520,22110,21570,21340,21130,21070,21870,22350,24910,24660,24140,26000,27230,28380,29500,30450,30920,30510,32530,31220,33780,31040,27130,28220,29170,28170,29830,30070,29470,29090,28910,28010,29680,28580,28960,30080,31660,30340,29490,27690,27390,28790,28670,30330,29900,30590,29880,29170,29190,28770,28240,27080,26490,25100,23640,23080,21200,19410,18150,17700,16690,14990,14240,9310,6850,8110,6550,5900,6440,5840,5070,3860,2930,2590,2540,7760],"text":["Age: 0 <br> Gender: Males <br> Population: 15,090","Age: 1 <br> Gender: Males <br> Population: 16,700","Age: 2 <br> Gender: Males <br> Population: 17,980","Age: 3 <br> Gender: Males <br> Population: 18,200","Age: 4 <br> Gender: Males <br> Population: 19,880","Age: 5 <br> Gender: Males <br> Population: 19,680","Age: 6 <br> Gender: Males <br> Population: 20,090","Age: 7 <br> Gender: Males <br> Population: 20,600","Age: 8 <br> Gender: Males <br> Population: 21,550","Age: 9 <br> Gender: Males <br> Population: 21,700","Age: 10 <br> Gender: Males <br> Population: 20,800","Age: 11 <br> Gender: Males <br> Population: 21,950","Age: 12 <br> Gender: Males <br> Population: 21,150","Age: 13 <br> Gender: Males <br> Population: 20,030","Age: 14 <br> Gender: Males <br> Population: 20,860","Age: 15 <br> Gender: Males <br> Population: 21,520","Age: 16 <br> Gender: Males <br> Population: 22,110","Age: 17 <br> Gender: Males <br> Population: 21,570","Age: 18 <br> Gender: Males <br> Population: 21,340","Age: 19 <br> Gender: Males <br> Population: 21,130","Age: 20 <br> Gender: Males <br> Population: 21,070","Age: 21 <br> Gender: Males <br> Population: 21,870","Age: 22 <br> Gender: Males <br> Population: 22,350","Age: 23 <br> Gender: Males <br> Population: 24,910","Age: 24 <br> Gender: Males <br> Population: 24,660","Age: 25 <br> Gender: Males <br> Population: 24,140","Age: 26 <br> Gender: Males <br> Population: 26,000","Age: 27 <br> Gender: Males <br> Population: 27,230","Age: 28 <br> Gender: Males <br> Population: 28,380","Age: 29 <br> Gender: Males <br> Population: 29,500","Age: 30 <br> Gender: Males <br> Population: 30,450","Age: 31 <br> Gender: Males <br> Population: 30,920","Age: 32 <br> Gender: Males <br> Population: 30,510","Age: 33 <br> Gender: Males <br> Population: 32,530","Age: 34 <br> Gender: Males <br> Population: 31,220","Age: 35 <br> Gender: Males <br> Population: 33,780","Age: 36 <br> Gender: Males <br> Population: 31,040","Age: 37 <br> Gender: Males <br> Population: 27,130","Age: 38 <br> Gender: Males <br> Population: 28,220","Age: 39 <br> Gender: Males <br> Population: 29,170","Age: 40 <br> Gender: Males <br> Population: 28,170","Age: 41 <br> Gender: Males <br> Population: 29,830","Age: 42 <br> Gender: Males <br> Population: 30,070","Age: 43 <br> Gender: Males <br> Population: 29,470","Age: 44 <br> Gender: Males <br> Population: 29,090","Age: 45 <br> Gender: Males <br> Population: 28,910","Age: 46 <br> Gender: Males <br> Population: 28,010","Age: 47 <br> Gender: Males <br> Population: 29,680","Age: 48 <br> Gender: Males <br> Population: 28,580","Age: 49 <br> Gender: Males <br> Population: 28,960","Age: 50 <br> Gender: Males <br> Population: 30,080","Age: 51 <br> Gender: Males <br> Population: 31,660","Age: 52 <br> Gender: Males <br> Population: 30,340","Age: 53 <br> Gender: Males <br> Population: 29,490","Age: 54 <br> Gender: Males <br> Population: 27,690","Age: 55 <br> Gender: Males <br> Population: 27,390","Age: 56 <br> Gender: Males <br> Population: 28,790","Age: 57 <br> Gender: Males <br> Population: 28,670","Age: 58 <br> Gender: Males <br> Population: 30,330","Age: 59 <br> Gender: Males <br> Population: 29,900","Age: 60 <br> Gender: Males <br> Population: 30,590","Age: 61 <br> Gender: Males <br> Population: 29,880","Age: 62 <br> Gender: Males <br> Population: 29,170","Age: 63 <br> Gender: Males <br> Population: 29,190","Age: 64 <br> Gender: Males <br> Population: 28,770","Age: 65 <br> Gender: Males <br> Population: 28,240","Age: 66 <br> Gender: Males <br> Population: 27,080","Age: 67 <br> Gender: Males <br> Population: 26,490","Age: 68 <br> Gender: Males <br> Population: 25,100","Age: 69 <br> Gender: Males <br> Population: 23,640","Age: 70 <br> Gender: Males <br> Population: 23,080","Age: 71 <br> Gender: Males <br> Population: 21,200","Age: 72 <br> Gender: Males <br> Population: 19,410","Age: 73 <br> Gender: Males <br> Population: 18,150","Age: 74 <br> Gender: Males <br> Population: 17,700","Age: 75 <br> Gender: Males <br> Population: 16,690","Age: 76 <br> Gender: Males <br> Population: 14,990","Age: 77 <br> Gender: Males <br> Population: 14,240","Age: 78 <br> Gender: Males <br> Population: 9,310","Age: 79 <br> Gender: Males <br> Population: 6,850","Age: 80 <br> Gender: Males <br> Population: 8,110","Age: 81 <br> Gender: Males <br> Population: 6,550","Age: 82 <br> Gender: Males <br> Population: 5,900","Age: 83 <br> Gender: Males <br> Population: 6,440","Age: 84 <br> Gender: Males <br> Population: 5,840","Age: 85 <br> Gender: Males <br> Population: 5,070","Age: 86 <br> Gender: Males <br> Population: 3,860","Age: 87 <br> Gender: Males <br> Population: 2,930","Age: 88 <br> Gender: Males <br> Population: 2,590","Age: 89 <br> Gender: Males <br> Population: 2,540","Age: 90 <br> Gender: Males <br> Population: 7,760"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(252,141,98,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"name":"Males","legendgroup":"Males","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":38.39221965249363,"r":7.3059360730593621,"b":34.015299768724432,"l":60.639269406392714},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"<b> Resident Population by Age and Gender <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":11.955168119551683},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5.0499999999999998,95.049999999999997],"tickmode":"array","ticktext":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],"tickvals":[0,1,2,3.0000000000000009,4.0000000000000009,5.0000000000000009,6.0000000000000009,7.0000000000000009,8.0000000000000036,9,10,11,12,13,14,15,16,17,18,19,20,21,22,22.999999999999996,23.999999999999996,25.000000000000004,26.000000000000004,26.999999999999996,27.999999999999996,28.999999999999996,29.999999999999996,30.999999999999996,31.999999999999996,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,51.999999999999993,52.999999999999993,53.999999999999993,55.000000000000007,56.000000000000007,57.000000000000007,58.000000000000007,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],"categoryorder":"array","categoryarray":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":5.3134080531340802},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Age (Numerical)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3537,74277],"tickmode":"array","ticktext":["0","20,000","40,000","60,000"],"tickvals":[0,20000.000000000004,40000,60000.000000000007],"categoryorder":"array","categoryarray":["0","20,000","40,000","60,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Total Population","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Gender","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","width":1000,"height":700,"barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"e7851552bc":{"x":{},"y":{},"fill":{},"text":{},"type":"bar"}},"cur_data":"e7851552bc","visdat":{"e7851552bc":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-23-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-23-2-tab">
<div class="sourceCode" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using groupby() and summarise </span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>pop_by_age_sex_region<span class="ot">&lt;-</span> sg_demo_2024 <span class="sc">%&gt;%</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Age_numerical, Sex, Region_type) <span class="sc">%&gt;%</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">pop_age =</span> <span class="fu">sum</span>(Pop), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>sorted_ages2 <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">unique</span>(pop_by_age_sex_region<span class="sc">$</span>Age_numerical))</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the age distribution using a histogram</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>p7<span class="ot">&lt;-</span><span class="fu">ggplot</span>(pop_by_age_sex_region, <span class="fu">aes</span>(<span class="at">x =</span> Age_numerical, <span class="at">y =</span> pop_age, <span class="at">fill =</span> Sex, </span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>                           <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Age:"</span>, Age_numerical, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Gender:"</span>, Sex, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Population:"</span>, scales<span class="sc">::</span><span class="fu">comma</span>(pop_age)))) <span class="sc">+</span></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> sorted_ages2,</span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> sorted_ages2) <span class="sc">+</span></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Resident Population by Age and Gender"</span>,</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age"</span>,</span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Population"</span>) <span class="sc">+</span></span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma) <span class="sc">+</span></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>, <span class="at">name =</span> <span class="st">"Gender"</span>) <span class="sc">+</span>  </span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()<span class="sc">+</span></span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">11</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb52-25"><a href="#cb52-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb52-26"><a href="#cb52-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb52-27"><a href="#cb52-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>),</span>
<span id="cb52-28"><a href="#cb52-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>),</span>
<span id="cb52-29"><a href="#cb52-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>))</span>
<span id="cb52-30"><a href="#cb52-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-31"><a href="#cb52-31" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p5, <span class="at">width =</span> <span class="dv">1000</span>, <span class="at">height =</span> <span class="dv">700</span>, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="co"># Specify tooltip</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-23-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-23-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>p7<span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Region_type), <span class="at">nrow=</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>The histogram/ stacked bar chart shows the regional population distribution and regional gender distribution/ structure.</p>
</section>
<section id="the-scatterplot-1" class="level3">
<h3 class="anchored" data-anchor-id="the-scatterplot-1">The Scatterplot</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-24-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-24-1" role="tab" aria-controls="tabset-24-1" aria-selected="true" href="">The Scatterplot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-24-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-24-2" role="tab" aria-controls="tabset-24-2" aria-selected="false" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-24-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-24-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-24-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-24-2-tab">
<div class="sourceCode" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define custom colors</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>male_color <span class="ot">&lt;-</span> <span class="st">"#1B9E77"</span>  <span class="co"># Replace with your desired color for Male (e.g., hex code)</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>female_color <span class="ot">&lt;-</span> <span class="st">"#D95F02"</span> <span class="co"># Replace with your desired color for Female (e.g., hex code)</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatterplot with linear fit line</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>p8<span class="ot">&lt;-</span><span class="fu">ggplot</span>(pop_by_age_sex_region, <span class="fu">aes</span>(<span class="at">x =</span> Age_numerical, <span class="at">y =</span>pop_age)) <span class="sc">+</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> <span class="fu">subset</span>(pop_by_age_sex_region, Sex <span class="sc">==</span> <span class="st">"Males"</span>), <span class="at">size=</span><span class="fl">0.5</span>,</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Age_numerical, <span class="at">y =</span> pop_age, <span class="at">color =</span> <span class="st">"Males"</span>)) <span class="sc">+</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> <span class="fu">subset</span>(pop_by_age_sex_region, Sex <span class="sc">==</span> <span class="st">"Females"</span>), <span class="at">size=</span><span class="fl">0.5</span>,</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Age_numerical, <span class="at">y =</span> pop_age, <span class="at">color =</span> <span class="st">"Females"</span>)) <span class="sc">+</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Males"</span> <span class="ot">=</span> male_color, <span class="st">"Females"</span> <span class="ot">=</span> female_color),</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">name =</span> <span class="st">"Gender"</span>) <span class="sc">+</span></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Scatterplot of Age by Population"</span>,</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age"</span>,</span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Population"</span>) <span class="sc">+</span></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size=</span><span class="dv">6</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">11</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>),</span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>),</span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.08</span>))<span class="sc">+</span></span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_annotation</span>(</span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: Department of Statistics, Singapore | Designer: AT"</span>)</span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-28"><a href="#cb54-28" aria-hidden="true" tabindex="-1"></a>p8<span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Region_type), <span class="at">nrow=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Similar to section 7.4, when a scatterplot of age by population was plotted for the different regions, the gaps between the genders are more apparent in the scatterplot. Thus, the scatterplot appears to be a better choice here.</p>
</section>
</section>
<section id="eda-3-raincloud-plot-distribution-of-weighted-population-by-age-groups-for-different-regions" class="level2">
<h2 class="anchored" data-anchor-id="eda-3-raincloud-plot-distribution-of-weighted-population-by-age-groups-for-different-regions">8.3 EDA 3: Raincloud Plot (Distribution of weighted population by age-groups for different regions)</h2>
<section id="creation-of-weighted-population" class="level3">
<h3 class="anchored" data-anchor-id="creation-of-weighted-population">8.3.1 Creation of weighted population</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>weighted_age_type <span class="ot">&lt;-</span> pop_by_gender_age <span class="sc">%&gt;%</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Age_type, Region_type, Sex) <span class="sc">%&gt;%</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weighted_population =</span> <span class="fu">sum</span>(<span class="fu">abs</span>(total_pop)), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>weighted_population</code> is the total absolute population count for each specific combination of <code>Age_type</code>, <code>Region_type</code>, and <code>Sex</code>. The “weighting” here is based on the aggregation of the population within these defined groups.</p>
</section>
<section id="plotting-raincloud-plots" class="level3">
<h3 class="anchored" data-anchor-id="plotting-raincloud-plots">8.3.2 Plotting Raincloud Plots</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-25-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-25-1" role="tab" aria-controls="tabset-25-1" aria-selected="true" href="">Raincloud Plots by Gender</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-25-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-25-2" role="tab" aria-controls="tabset-25-2" aria-selected="false" href="">Code for Raincloud Plots by Gender</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-25-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-25-3" role="tab" aria-controls="tabset-25-3" aria-selected="false" href="">Raincloud Plot by Region</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-25-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-25-4" role="tab" aria-controls="tabset-25-4" aria-selected="false" href="">Code for Raincloud Plot by Region</a></li></ul>
<div class="tab-content">
<div id="tabset-25-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-25-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-25-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-25-2-tab">
<div class="sourceCode" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Half Eye visualization</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weighted_age_type, </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> weighted_population, </span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> Region_type)) <span class="sc">+</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_halfeye</span>(<span class="at">adjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.2</span>,</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">.width =</span> <span class="dv">0</span>,</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">point_colour =</span> <span class="cn">NA</span>)</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Define custom flat violin geom without ggname()</span></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>GeomFlatViolin <span class="ot">&lt;-</span> <span class="fu">ggproto</span>(<span class="st">"GeomFlatViolin"</span>, Geom,</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">setup_data =</span> <span class="cf">function</span>(data, params) {</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>    data<span class="sc">$</span>width <span class="ot">&lt;-</span> data<span class="sc">$</span>width <span class="sc">%||%</span></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a>      params<span class="sc">$</span>width <span class="sc">%||%</span> (<span class="fu">resolution</span>(data<span class="sc">$</span>x, <span class="cn">FALSE</span>) <span class="sc">*</span> <span class="fl">0.9</span>)</span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a>    data <span class="sc">%&gt;%</span></span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(x) <span class="sc">%&gt;%</span></span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">ymin =</span> <span class="fu">min</span>(y),</span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">ymax =</span> <span class="fu">max</span>(y),</span>
<span id="cb56-21"><a href="#cb56-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">xmin =</span> x,</span>
<span id="cb56-22"><a href="#cb56-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">xmax =</span> x <span class="sc">+</span> violinwidth <span class="sc">*</span> width</span>
<span id="cb56-23"><a href="#cb56-23" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb56-24"><a href="#cb56-24" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb56-25"><a href="#cb56-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-26"><a href="#cb56-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">draw_group =</span> <span class="cf">function</span>(data, panel_scales, coord) {</span>
<span id="cb56-27"><a href="#cb56-27" aria-hidden="true" tabindex="-1"></a>    data <span class="ot">&lt;-</span> <span class="fu">transform</span>(data,</span>
<span id="cb56-28"><a href="#cb56-28" aria-hidden="true" tabindex="-1"></a>                      <span class="at">xminv =</span> x,</span>
<span id="cb56-29"><a href="#cb56-29" aria-hidden="true" tabindex="-1"></a>                      <span class="at">xmaxv =</span> x <span class="sc">+</span> violinwidth <span class="sc">*</span> (xmax <span class="sc">-</span> x))</span>
<span id="cb56-30"><a href="#cb56-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-31"><a href="#cb56-31" aria-hidden="true" tabindex="-1"></a>    newdata <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb56-32"><a href="#cb56-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">arrange</span>(<span class="fu">transform</span>(data, <span class="at">x =</span> xmaxv), y),</span>
<span id="cb56-33"><a href="#cb56-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">arrange</span>(<span class="fu">transform</span>(data, <span class="at">x =</span> xminv), <span class="sc">-</span>y)</span>
<span id="cb56-34"><a href="#cb56-34" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb56-35"><a href="#cb56-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-36"><a href="#cb56-36" aria-hidden="true" tabindex="-1"></a>    newdata <span class="ot">&lt;-</span> <span class="fu">rbind</span>(newdata, newdata[<span class="dv">1</span>, ])</span>
<span id="cb56-37"><a href="#cb56-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-38"><a href="#cb56-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># No need for ggname(), directly use GeomPolygon$draw_panel</span></span>
<span id="cb56-39"><a href="#cb56-39" aria-hidden="true" tabindex="-1"></a>    GeomPolygon<span class="sc">$</span><span class="fu">draw_panel</span>(newdata, panel_scales, coord)</span>
<span id="cb56-40"><a href="#cb56-40" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb56-41"><a href="#cb56-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-42"><a href="#cb56-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">draw_key =</span> draw_key_polygon,</span>
<span id="cb56-43"><a href="#cb56-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-44"><a href="#cb56-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">default_aes =</span> <span class="fu">aes</span>(</span>
<span id="cb56-45"><a href="#cb56-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb56-46"><a href="#cb56-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="cn">NA</span>, <span class="at">linetype =</span> <span class="st">"solid"</span></span>
<span id="cb56-47"><a href="#cb56-47" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb56-48"><a href="#cb56-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-49"><a href="#cb56-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">required_aes =</span> <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>)</span>
<span id="cb56-50"><a href="#cb56-50" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-51"><a href="#cb56-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-52"><a href="#cb56-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Wrapper function for geom_flat_violin</span></span>
<span id="cb56-53"><a href="#cb56-53" aria-hidden="true" tabindex="-1"></a>geom_flat_violin <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">mapping =</span> <span class="cn">NULL</span>, <span class="at">data =</span> <span class="cn">NULL</span>, <span class="at">stat =</span> <span class="st">"ydensity"</span>,</span>
<span id="cb56-54"><a href="#cb56-54" aria-hidden="true" tabindex="-1"></a>                             <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">trim =</span> <span class="cn">TRUE</span>, <span class="at">scale =</span> <span class="st">"area"</span>,</span>
<span id="cb56-55"><a href="#cb56-55" aria-hidden="true" tabindex="-1"></a>                             <span class="at">show.legend =</span> <span class="cn">NA</span>, <span class="at">inherit.aes =</span> <span class="cn">TRUE</span>, ...) {</span>
<span id="cb56-56"><a href="#cb56-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layer</span>(</span>
<span id="cb56-57"><a href="#cb56-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> data,</span>
<span id="cb56-58"><a href="#cb56-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> mapping,</span>
<span id="cb56-59"><a href="#cb56-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat =</span> stat,</span>
<span id="cb56-60"><a href="#cb56-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> GeomFlatViolin,</span>
<span id="cb56-61"><a href="#cb56-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> position,</span>
<span id="cb56-62"><a href="#cb56-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> show.legend,</span>
<span id="cb56-63"><a href="#cb56-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">inherit.aes =</span> inherit.aes,</span>
<span id="cb56-64"><a href="#cb56-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">params =</span> <span class="fu">list</span>(<span class="at">trim =</span> trim, <span class="at">scale =</span> scale, ...)</span>
<span id="cb56-65"><a href="#cb56-65" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb56-66"><a href="#cb56-66" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb56-67"><a href="#cb56-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-68"><a href="#cb56-68" aria-hidden="true" tabindex="-1"></a><span class="co"># Actual plot</span></span>
<span id="cb56-69"><a href="#cb56-69" aria-hidden="true" tabindex="-1"></a>p9 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(weighted_age_type, </span>
<span id="cb56-70"><a href="#cb56-70" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> weighted_population, </span>
<span id="cb56-71"><a href="#cb56-71" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> Sex,           </span>
<span id="cb56-72"><a href="#cb56-72" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> Sex)) <span class="sc">+</span> <span class="co"># Map fill to Region_type</span></span>
<span id="cb56-73"><a href="#cb56-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_halfeye</span>(<span class="at">adjust =</span> <span class="fl">0.6</span>,</span>
<span id="cb56-74"><a href="#cb56-74" aria-hidden="true" tabindex="-1"></a>               <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.05</span>,</span>
<span id="cb56-75"><a href="#cb56-75" aria-hidden="true" tabindex="-1"></a>               <span class="at">.width =</span> <span class="dv">0</span>,</span>
<span id="cb56-76"><a href="#cb56-76" aria-hidden="true" tabindex="-1"></a>               <span class="at">point_colour =</span> <span class="cn">NA</span>,</span>
<span id="cb56-77"><a href="#cb56-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">y =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb56-78"><a href="#cb56-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> .<span class="dv">18</span>,</span>
<span id="cb56-79"><a href="#cb56-79" aria-hidden="true" tabindex="-1"></a>               <span class="at">outlier.shape =</span> <span class="cn">NA</span>)<span class="sc">+</span></span>
<span id="cb56-80"><a href="#cb56-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dots</span>(<span class="at">side =</span> <span class="st">"left"</span>, <span class="at">size =</span> <span class="fl">0.5</span>, </span>
<span id="cb56-81"><a href="#cb56-81" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">y =</span> <span class="sc">-</span><span class="fl">0.15</span>)) <span class="sc">+</span> <span class="co"># Nudge dots lower</span></span>
<span id="cb56-82"><a href="#cb56-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span> <span class="co"># Important for half-eye if it extends beyond the box</span></span>
<span id="cb56-83"><a href="#cb56-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Age Structure by Gender (Weighted Population)"</span>,</span>
<span id="cb56-84"><a href="#cb56-84" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Population"</span>,</span>
<span id="cb56-85"><a href="#cb56-85" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Gender"</span>)<span class="sc">+</span>    </span>
<span id="cb56-86"><a href="#cb56-86" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb56-87"><a href="#cb56-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb56-88"><a href="#cb56-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb56-89"><a href="#cb56-89" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>),</span>
<span id="cb56-90"><a href="#cb56-90" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb56-91"><a href="#cb56-91" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>),</span>
<span id="cb56-92"><a href="#cb56-92" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>),</span>
<span id="cb56-93"><a href="#cb56-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">7</span>),</span>
<span id="cb56-94"><a href="#cb56-94" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb56-95"><a href="#cb56-95" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb56-96"><a href="#cb56-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">add =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>))) <span class="co"># Add vertical expansion</span></span>
<span id="cb56-97"><a href="#cb56-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-98"><a href="#cb56-98" aria-hidden="true" tabindex="-1"></a>rcp1<span class="ot">&lt;-</span> p9 <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Region_type), <span class="at">nrow=</span><span class="dv">3</span>)</span>
<span id="cb56-99"><a href="#cb56-99" aria-hidden="true" tabindex="-1"></a>rcp1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-25-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-25-3-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-25-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-25-4-tab">
<div class="sourceCode" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>p10 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(weighted_age_type, </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> weighted_population, </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> Region_type,           </span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> Region_type)) <span class="sc">+</span> <span class="co"># Map fill to Region_type</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_halfeye</span>(<span class="at">adjust =</span> <span class="fl">0.6</span>,</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.05</span>,</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">.width =</span> <span class="dv">0</span>,</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">point_colour =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> .<span class="dv">18</span>,</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">outlier.shape =</span> <span class="cn">NA</span>)<span class="sc">+</span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dots</span>(<span class="at">side =</span> <span class="st">"left"</span>, <span class="at">size =</span> <span class="fl">0.5</span>, </span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">y =</span> <span class="sc">-</span><span class="fl">0.15</span>)) <span class="sc">+</span> <span class="co"># Nudge dots lower</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span> <span class="co"># Important for half-eye if it extends beyond the box</span></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Age Structure by Region (Weighted Population)"</span>,</span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Population"</span>,</span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Region Type"</span>)<span class="sc">+</span>    </span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>),</span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">5</span>),</span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">5</span>,<span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="dv">0</span>, <span class="at">l =</span> <span class="dv">0</span>, <span class="at">unit =</span> <span class="st">"pt"</span>)),</span>
<span id="cb57-24"><a href="#cb57-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">7</span>),</span>
<span id="cb57-25"><a href="#cb57-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb57-26"><a href="#cb57-26" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb57-27"><a href="#cb57-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">add =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>)))<span class="sc">+</span> <span class="co"># Add vertical expansion</span></span>
<span id="cb57-28"><a href="#cb57-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_annotation</span>(</span>
<span id="cb57-29"><a href="#cb57-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: Department of Statistics, Singapore | Designer: AT"</span>)</span>
<span id="cb57-30"><a href="#cb57-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-31"><a href="#cb57-31" aria-hidden="true" tabindex="-1"></a>rcp2<span class="ot">&lt;-</span>p10 <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Sex), <span class="at">nrow=</span><span class="dv">1</span>)</span>
<span id="cb57-32"><a href="#cb57-32" aria-hidden="true" tabindex="-1"></a>rcp2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-26-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-26-1" role="tab" aria-controls="tabset-26-1" aria-selected="true" href="">Combined Raincloud Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-26-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-26-2" role="tab" aria-controls="tabset-26-2" aria-selected="false" href="">The Code</a></li></ul>
<div class="tab-content">
<div id="tabset-26-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-26-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-26-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-26-2-tab">
<div class="sourceCode" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>rcp1<span class="sc">|</span>rcp2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>The charts above show <code>weighted_population</code> on the x-axis and <code>Region_type</code> or <code>Sex</code> on the y-axis. The <code>weighted_population</code> on the x-axis represents the total absolute population count for each specific combination of <code>Age_type</code>, <code>Region_type</code>, and <code>Sex</code>.</p>
<p>The y-axis of the <code>stat_halfeye()</code> component does NOT directly represent the population count, it represents the probability density of the <code>weighted_population</code> values within each level of the grouping variable on the y-axis (which is <code>Region_type</code> or <code>Sex)</code>.</p>
<p>For each gender and region:</p>
<ul>
<li><p><strong>Peaks:</strong> The age categories within that region and gender that have a relatively common occurrence. (Many age-gender combination in that region have a total population around the x-axis value)</p></li>
<li><p><strong>Troughs:</strong> The age categories within that region and gender that have a relatively less common occurrence. (Lesser age-gender combination in that region have a total population around the x-axis value)</p></li>
<li><p><strong>Spread:</strong> The range of total populations across the different age categories within that region. A wider distribution means a greater difference in population sizes between age groups.</p></li>
</ul>
</section>
</section>
</section>
<section id="daily-article" class="level1">
<h1>9. Daily Article</h1>
<div class="centre">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src=".\Aero_Media.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div>
<div class="centre">
<section id="singapore" class="level4">
<h4 class="anchored" data-anchor-id="singapore">Singapore</h4>
</section>
<section id="demographic-structures-and-distribution-of-singapore-in-2024" class="level2">
<h2 class="anchored" data-anchor-id="demographic-structures-and-distribution-of-singapore-in-2024"><strong>Demographic structures and distribution of Singapore in 2024</strong></h2>
</section>
</div>
<div class="centre">
<section id="author-graphical-editor-audrey-tan" class="level7">
<p class="heading">Author/ Graphical Editor: Audrey Tan</p>
</section>
<section id="published-date-01-may-2025" class="level7">
<p class="heading">Published Date: 01 May 2025</p>
</section>
</div>
<section id="in-this-article-we-will-cover-the-population-pyramid-scatterplots-and-raincloud-plots.-these-are-useful-to-visualise-the-demographic-structures-and-distributions-of-a-country." class="level5">
<h5 class="anchored" data-anchor-id="in-this-article-we-will-cover-the-population-pyramid-scatterplots-and-raincloud-plots.-these-are-useful-to-visualise-the-demographic-structures-and-distributions-of-a-country.">In this article, we will cover the population pyramid, scatterplots, and raincloud plots. These are useful to visualise the demographic structures and distributions of a country.</h5>
</section>
<section id="population-pyramids" class="level2">
<h2 class="anchored" data-anchor-id="population-pyramids">9.1 Population Pyramids</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>What is a population pyramid?</strong></p>
<p>Population pyramids show the distribution of age-groups between the male (on the right) and female (on the left) population divided by the center. The population size is shown on the x-axis while the age-groups are represented on the middle y-axis. The youngest age-group (at 0-4) starts at the bottom which rises to the oldest (at 90 &amp; Over) at the top. It is useful for studying the effects of armed conflicts, infant mortality, mortality in childbirth, birth policies and migration.</p>
<p><strong>Why is it called a population pyramid?</strong></p>
<p>When more babies are born compared to population mortality, the graph forms a triangular shape like a pyramid. There are three main types of population pyramid shapes/ types: Triangular shape (Expansive), Bell shape (Stationary), Bulb shape (Constrictive).</p>
<div class="card text-black bg-light-purple mb-3">
<div class="card-header" style="font-size: 1.5em; display: flex;">
<p><img src="kitten_ball.png" alt="Jedi Dog" class="card-header-icon" style="width: 70px; height: auto; vertical-align: middle; margin-right: 5px;"> <strong>Insights</strong></p>
</div>
<section id="how-about-singapores-population-pyramid" class="level4 card-title card-body">
<h4 class="card-title anchored" data-anchor-id="how-about-singapores-population-pyramid"><strong>How about Singapore’s population pyramid?</strong></h4>
<ul>
<li><p>Singapore’s population pyramid here shows the age and gender distributions.</p></li>
<li><p>Singapore in year 2024 has a Constrictive type. It is wider in the middle due to representation by mostly middle aged and elderly people, but fewer young people. This is corroborated with the median age at 42.</p></li>
<li><p>The top of the pyramid is also wider than other two pyramid types, due to longer life expectancy.</p></li>
<li><p>There were more females that outlived males as they aged, which is more prevalent for older age-groups (75s to more than 90s).</p></li>
</ul>
</section>
</div>
</section>
<section id="scatterplot" class="level2">
<h2 class="anchored" data-anchor-id="scatterplot">9.2 Scatterplot</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We have earlier seen the age distribution by gender through the population pyramid.</p>
<p>To visualize the population counts in different regions a scatterplot was produced which shows the population across the five regions. The coloured dots shows the different gender.</p>
<div class="card text-black bg-light-purple mb-3">
<div class="card-header" style="font-size: 1.5em; display: flex;">
<p><img src="kitten_ball.png" alt="Jedi Dog" class="card-header-icon" style="width: 70px; height: auto; vertical-align: middle; margin-right: 5px;"> <strong>Insights</strong></p>
</div>
<section id="what-is-the-regional-distribution-from-the-scatterplot" class="level4 card-title card-body">
<h4 class="card-title anchored" data-anchor-id="what-is-the-regional-distribution-from-the-scatterplot"><strong>What is the regional distribution from the scatterplot?</strong></h4>
<ul>
<li><strong>Regional population distribution</strong></li>
</ul>
<p>The regions are NER: North-East, CR: Central, WR: West, ER: East, NR: North). Most residents are clustered in NER (23%), CR (23%), and WR (22%), a smaller segment are in ER (17%) and NR (14%). Perhaps because these areas are near the Central Business Districts, Shopping Districts, and also close to popular educational institutions.</p>
<ul>
<li><strong>Regional gender distribution/ structure</strong></li>
</ul>
<p>There is a rather even distribution of males to females in each region as seen by the female and male hue colours as close to each other.</p>
<p>Across different ages, a wider gap between the population count for both genders was observed for NER, CR, and WR as compared to ER and NR.</p>
<p>The shape of the distribution across different regions are very similar, with ER and NR having a flatter shape, relative to the other three regions.</p>
<ul>
<li><p>The population rises from age 0 to 35, stagnates around age 35 to 60, then dips after that. There is an overall decline in the population as the age increases which is a reality in life.</p></li>
<li><p>Around the ages of 0 to 30, the population of female vs males are close.</p></li>
<li><p>A large group of the population are around the ages of 30 to 60. Suggesting an ageing population.</p></li>
<li><p>After age 75, there is usually a larger gap between the higher females compared to males population. This is stark for over 90 years of age. Suggesting higher longevity for females.</p></li>
</ul>
</section>
</div>
</section>
<section id="raincloud-plot" class="level2">
<h2 class="anchored" data-anchor-id="raincloud-plot">9.3 Raincloud plot</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Compared to the earlier scatterplots, this chart integrates the density, summary statistics, and raw data into a single, compact visualization for each group (gender or region).</p>
<p>The charts above show <code>weighted_population</code> on the x-axis and <code>Region_type</code> or <code>Sex</code> on the y-axis. The <code>weighted_population</code> on the x-axis represents the total absolute population count for each specific combination of <code>Age_type</code>, <code>Region_type</code>, and <code>Sex</code>.</p>
<p>The y-axis of the <code>stat_halfeye()</code> component does NOT represent the population count, it represents the probability density of the <code>weighted_population</code> values within each level of the grouping variable on the y-axis (which is <code>Region_type</code> or <code>Sex)</code>.</p>
<p><strong>Stat halfeye:</strong></p>
<p>The shape shows the distribution of the weighted population values per region or gender:</p>
<ul>
<li><p><strong>Peaks:</strong> Higher probability that many age-gender combination in that region have a total population around the x-axis value, opposite is true for troughs.</p>
<ul>
<li><strong>Peaks towards the right (left):</strong> concentrated at higher (lower) values.</li>
</ul></li>
<li><p><strong>Spread:</strong> A wider distribution indicates greater differences in population sizes between age groups.</p>
<ul>
<li><strong>A wide (narrow) distribution:</strong> greater (smaller) diversity in the weighted population values within that region/ gender, with significant individuals having both higher and lower (similar clustered) weighted populations.</li>
</ul></li>
</ul>
<p><strong>Boxplot:</strong></p>
<ul>
<li><p>Comparing the <strong>medians</strong> (the lines inside the boxes) across different <code>Region_type</code> levels, to see which regions tend to have higher or lower typical weighted populations.</p></li>
<li><p>Comparing the <strong>lengths of the boxes (IQR)</strong>, to see which regions have more or less variability in their middle 50% of weighted population values.</p></li>
<li><p>Looking at the <strong>whiskers</strong>, a sense of the overall range of weighted population values per region can be determined.</p></li>
</ul>
<p><strong>Raindrop:</strong></p>
<ul>
<li>The outlier raindrops indicate specific age/gender within a region that have exceptionally high or low total populations compared to the majority within that region.</li>
</ul>
<div class="card text-black bg-light-purple mb-3">
<div class="card-header" style="font-size: 1.5em; display: flex;">
<p><img src="kitten_ball.png" alt="Jedi Dog" class="card-header-icon" style="width: 70px; height: auto; vertical-align: middle; margin-right: 5px;"> <strong>Insights</strong></p>
</div>
<section id="what-are-the-density-statistics-outliers" class="level4 card-title card-body">
<h4 class="card-title anchored" data-anchor-id="what-are-the-density-statistics-outliers"><strong>What are the Density, Statistics, Outliers?</strong></h4>
<p><strong>Density</strong>:</p>
<ul>
<li><p>Females have a wider distribution than Males for CR, NER, WR. Regions NER, followed by CR, then WR have a wider distribution than ER and NR. This suggestsgreater diversity in the weighted population values within Females or NER, CR, WR, with significant points having both higher and lower weighted populations.</p></li>
<li><p>With that also comes greater variability in the weighted population values.</p></li>
<li><p>Highest peaks nearing 40,000 for WR and CR, suggesting higher probability that many age-gender combination in those regions have a total population around the x-axis value. NER, NR and ER have highest peaks around 30,000.</p></li>
</ul>
<p><strong>Statistics</strong>:</p>
<ul>
<li>Looking at the median, WR, CR, NER (Females) and WR, NER, CR (Males), tend to have higher weighted populations. Median is similar between genders in each region.</li>
</ul>
<p><strong>Outliers:</strong></p>
<ul>
<li>Potential outliers observed for NER (both genders), WR males, ER males.</li>
</ul>
</section>
</div>
</section>
</section>
<section id="summary-and-future-research" class="level1">
<h1>10. Summary and Future Research</h1>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">10.1 Summary</h2>
<p>Based on the exploratory data analysis (EDA) done above, we can conclude the following about the demographic distribution and structure of Singapore in 2024:</p>
<ol type="1">
<li><p><strong>Age and Gender Distribution:</strong> The population pyramid displays age-group variation in population. There is an ageing population with residents at a median age of 42. There are lesser younger and elderly from low birth rates and decline due to old-age mortality. There were increasingly more Females compared to Males as the age-group increases, suggesting Females outliving Males which corroborates with general biological and behavioural reasons.</p></li>
<li><p><strong>Gender and Region Distribution</strong>: There is a rather even distribution of males to females in each region. Also, most residents are clustered in NER, CR and WR. Across different ages, a wider gap between the population count for both genders was observed for NER, CR, and WR as compared to ER and NR. The shape of the distribution across different regions are very similar, with ER and NR having a flatter shape, relative to the other three regions.</p></li>
<li><p><strong>Region, Gender and Age Distribution</strong>: Females have a wider distribution than Males for CR, NER, WR.</p>
<p>Regions NER, followed by CR, then WR have a wider distribution than ER and NR. This suggestsgreater diversity in the weighted population values within Females or NER, CR, WR, with significant points having both higher and lower weighted populations.</p>
<p>Highest peaks nearing 40,000 for WR and CR, suggesting higher probability that many age-gender combination in those regions have a total population around the x-axis value. NER, NR and ER have highest peaks around 30,000.</p>
<p>With that also comes greater variability in the weighted population values.</p>
<p>Highest peaks nearing 40,000 for WR and CR, suggesting higher probability that many age-gender combination in those regions have a total population around the x-axis value. NER, NR and ER have highest peaks around 30,000.</p></li>
</ol>
</section>
<section id="future-research" class="level2">
<h2 class="anchored" data-anchor-id="future-research">10.2 Future Research</h2>
<ul>
<li><p>Further research can be done on the regions where the labour force (age 15 and over) reside in. This might be useful for urban planning of offices.</p></li>
<li><p>With more data, labour force participation rate per region can be obtained by zooming into the working age groups (15-24, 25-54, 55-64, 65 and over).</p></li>
</ul>
</section>
</section>
<section id="references-and-inspiration" class="level1">
<h1>11. References and inspiration</h1>
<ul>
<li><p>Steven P. Sanderson II, MPH (2023)<a href="https://www.r-bloggers.com/2023/09/creating-population-pyramid-plots-in-r-with-ggplot2"><strong>Creating Population Pyramid Plots in R with ggplot2</strong></a></p></li>
<li><p>David Keyes (2024)<a href="https://rfortherestofus.com/2024/07/population-pyramid-part-1"><strong>How to make polished population pyramids in ggplot: part 1</strong></a></p></li>
<li><p>Michal Palenik (2024)<a href="https://www.iz.sk/en/projects/eu-regions/AT"><strong>Deomographic Pyramid by Economic Activity Austria 2023</strong></a></p></li>
<li><p>Singstat (2024)<a href="https://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data"><strong>Population Trends</strong></a></p></li>
<li><p>URA (2025) <a href="https://www.ura.gov.sg/Corporate/Planning/Master-Plan/Master-Plan-2019/Regional-Highlights"><strong>Regional Highlights</strong></a> :</p></li>
<li><p>National Geographic (2023) <a href="https://education.nationalgeographic.org/resource/population-pyramid/"><strong>Population Pyramid</strong></a></p></li>
<li><p>2travelacrosstime (2023) <a href="https://2travellingacrosstime.com/2023/08/19/types-of-population-pyramids/"><strong>Types of Population Pyramids</strong></a></p></li>
<li><p>Singapore Department of Statistics (2020) <a href="https://www.singstat.gov.sg/-/media/files/standards_and_classifications/nsa.ashx"><strong>National Statistical Standards</strong></a>:::: ::: :::::</p></li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>